/**
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* eslint-env browser */

if (
	'serviceWorker' in navigator &&
	location.protocol === 'https:' &&
	document.cookie.indexOf('wmdebug') === -1 &&
	location.href.indexOf('chrome-extension://') === -1 &&
	location.href.indexOf('192.168') === -1
) {
	// Delay registration until after the page has loaded, to ensure that our
	// precaching requests don't degrade the first visit experience.
	// See https://developers.google.com/web/fundamentals/instant-and-offline/service-worker/registration
	window.addEventListener('load', function() {
		// Your service-worker.js *must* be located at the top-level directory relative to your site.
		// It won't be able to control pages unless it's located at the same level or higher than them.
		// *Don't* register service worker file in, e.g., a scripts/ sub-directory!
		// See https://github.com/slightlyoff/ServiceWorker/issues/468
		navigator.serviceWorker
			.register('service-worker.js')
			.then(function(reg) {
				// updatefound is fired if service-worker.js changes.
				reg.onupdatefound = function() {
					// The updatefound event implies that reg.installing is set; see
					// https://w3c.github.io/ServiceWorker/#service-worker-registration-updatefound-event
					var installingWorker = reg.installing;

					installingWorker.onstatechange = function() {
						/* eslint-disable default-case */
						switch (installingWorker.state) {
							case 'installed':
								if (navigator.serviceWorker.controller) {
									// At this point, the old content will have been purged and the fresh content will
									// have been added to the cache.
									// It's the perfect time to display a "New content is available; please refresh."
									// message in the page's interface.
									console.log('New or updated content is available.');
								} else {
									// At this point, everything has been precached.
									// It's the perfect time to display a "Content is cached for offline use." message.
									console.log('Content is now available offline!');
									if (window.alertsService) {
										window.alertsService.add(
											'Tron is now ready to be used offline.'
										);
									}
								}
								break;

							case 'redundant':
								console.error(
									'The installing service worker became redundant.'
								);
								break;
						}
					};
				};
			})
			.catch(function(e) {
				console.error('Error during service worker registration:', e);
			});
	});
}

webpackJsonp([0],{"+ZAi":function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var r=o("KM04"),l=o("inAt"),d=s(l),c=o("CIHI"),p=s(c),u=(0,r.h)("h1",null,"Atomic CSS Settings"),h=(0,r.h)("h3",null,"Configure Atomizer settings."," ",(0,r.h)("a",{href:"https://github.com/acss-io/atomizer#api",target:"_blank",rel:"noopener noreferrer"},"Read more")," ","about available settings."),m=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidUpdate=function(){var e=this;this.props.show&&setTimeout(function(){e.props.settings&&e.cm.setValue(e.props.settings.acssConfig),e.cm.refresh(),e.cm.focus()},500)},t.prototype.render=function(){var e=this;return(0,r.h)(d.default,{show:this.props.show,closeHandler:this.props.closeHandler},u,h,(0,r.h)("div",{style:"height: calc(100vh - 350px);"},(0,r.h)(p.default,{options:{mode:"application/ld+json",theme:this.props.editorTheme},onCreation:function(t){return e.cm=t},onBlur:function(t){return e.props.onChange(t.getValue())}})),(0,r.h)("div",{class:"flex flex-h-end"},(0,r.h)("button",{class:"btn btn--primary",onClick:this.props.closeHandler},"Apply and Close")))},t}(r.Component);t.default=m},0:function(){},"03MQ":function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.CreateNewModal=function(e){var t=e.show,o=e.closeHandler,s=e.onBlankTemplateSelect,a=e.onTemplateSelect;return(0,n.h)(i.default,{show:t,closeHandler:o,smll:!0},(0,n.h)("div",{class:"tac"},(0,n.h)("button",{className:"btn",onClick:s},"Start a blank creation")),c,"Or choose from a template:",(0,n.h)("div",{class:"saved-items-pane__container"},d.default.map(function(e){return(0,n.h)(r.ItemTile,{item:e,focusable:!0,onClick:a.bind(null,e)})})))};var n=o("KM04"),a=o("inAt"),i=s(a),r=o("iGzD"),l=o("g3Nw"),d=s(l),c=(0,n.h)("hr",null)},"0job":function(e,t,o){"use strict";t.__esModule=!0,t.Icons=function(){return(0,s.h)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},n,a,i,r,l,d,c,p,u,h,m,g,(0,s.h)("symbol",{id:"gift-icon",viewBox:"0 0 24 24"},f,b,y,v,C,S,k,(0,s.h)("symbol",{id:"loader-icon",viewBox:"0 0 44 44"},w)))};var s=o("KM04"),n=(0,s.h)("symbol",{id:"logo",viewBox:"-145 -2 372 175"},(0,s.h)("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",transform:"translate(-145.000000, -1.000000)"},(0,s.h)("polygon",{id:"Path-1",fill:"#FF4600",points:"31 0 232 0 132 173.310547"}),(0,s.h)("polygon",{id:"Path-1",fill:"#FF6C00",points:"0 0 201 0 101 173.310547"}),(0,s.h)("polygon",{id:"Path-1",fill:"#FF6C00",transform:"translate(271.500000, 86.500000) scale(1, -1) translate(-271.500000, -86.500000) ",points:"171 0 372 0 272 173.310547"}),(0,s.h)("polygon",{id:"Path-1",fill:"#FF4600",transform:"translate(241.500000, 86.500000) scale(1, -1) translate(-241.500000, -86.500000) ",points:"141 0 342 0 242 173.310547"}))),a=(0,s.h)("symbol",{id:"bug-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z"})),i=(0,s.h)("symbol",{id:"google-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})),r=(0,s.h)("symbol",{id:"fb-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z"})),l=(0,s.h)("symbol",{id:"github-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"})),d=(0,s.h)("symbol",{id:"settings-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})),c=(0,s.h)("symbol",{id:"twitter-icon",viewBox:"0 0 16 16"},(0,s.h)("path",{d:"M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"})),p=(0,s.h)("symbol",{id:"heart-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),u=(0,s.h)("symbol",{id:"play-icon",viewBox:"0 0 24 24"},(0,s.h)("svg",null,(0,s.h)("path",{d:"M8,5.14V19.14L19,12.14L8,5.14Z"}))),h=(0,s.h)("symbol",{id:"cancel-icon",viewBox:"0 0 24 24"},(0,s.h)("svg",null,(0,s.h)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"}))),m=(0,s.h)("symbol",{id:"chevron-icon",viewBox:"0 0 24 24"},(0,s.h)("svg",null,(0,s.h)("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))),g=(0,s.h)("symbol",{id:"chat-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M8,14H6V12H8V14M8,11H6V9H8V11M8,8H6V6H8V8M15,14H10V12H15V14M18,11H10V9H18V11M18,8H10V6H18V8Z"})),f=(0,s.h)("path",{d:"M22,12V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V12A1,1 0 0,1 1,11V8A2,2 0 0,1 3,6H6.17C6.06,5.69 6,5.35 6,5A3,3 0 0,1 9,2C10,2 10.88,2.5 11.43,3.24V3.23L12,4L12.57,3.23V3.24C13.12,2.5 14,2 15,2A3,3 0 0,1 18,5C18,5.35 17.94,5.69 17.83,6H21A2,2 0 0,1 23,8V11A1,1 0 0,1 22,12M4,20H11V12H4V20M20,20V12H13V20H20M9,4A1,1 0 0,0 8,5A1,1 0 0,0 9,6A1,1 0 0,0 10,5A1,1 0 0,0 9,4M15,4A1,1 0 0,0 14,5A1,1 0 0,0 15,6A1,1 0 0,0 16,5A1,1 0 0,0 15,4M3,8V10H11V8H3M13,8V10H21V8H13Z"}),b=(0,s.h)("symbol",{id:"gift-icon",viewBox:"0 0 24 24"}),y=(0,s.h)("symbol",{id:"cross-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})),v=(0,s.h)("symbol",{id:"keyboard-icon",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"})),C=(0,s.h)("symbol",{id:"mode-icon",viewBox:"0 0 100 100"},(0,s.h)("g",null,(0,s.h)("rect",{x:0,y:0,width:28,height:47}),(0,s.h)("rect",{x:36,y:0,width:28,height:47}),(0,s.h)("rect",{x:72,y:0,width:28,height:47}),(0,s.h)("rect",{x:0,y:53,width:100,height:47}))),S=(0,s.h)("symbol",{id:"vertical-mode-icon",viewBox:"0 0 100 100"},(0,s.h)("g",null,(0,s.h)("rect",{x:0,y:0,width:20,height:100}),(0,s.h)("rect",{x:23,y:0,width:20,height:100}),(0,s.h)("rect",{x:46,y:0,width:20,height:100}),(0,s.h)("rect",{x:69,y:0,width:32,height:100}))),k=(0,s.h)("symbol",{id:"search",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"})),w=(0,s.h)("g",{fill:"none",fillRule:"evenodd",strokeWidth:10},(0,s.h)("circle",{cx:22,cy:22,r:1},(0,s.h)("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,s.h)("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),(0,s.h)("circle",{cx:22,cy:22,r:1},(0,s.h)("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,s.h)("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})))},"0lUe":function(e,t,o){"use strict";t.__esModule=!0,t.Notifications=function(){return d};var s=o("KM04"),n=o("f66c"),a=(0,s.h)("strong",null,"\uD83D\uDD27 Bugfix"),i=(0,s.h)("strong",null,"\u267F\uFE0F Accessibility"),r=(0,s.h)("strong",null,"\uD83D\uDDA5 Interface"),l=(0,s.h)("div",{class:"mt-2"}),d=(0,s.h)("div",null,(0,s.h)("h1",null,"Whats new?"))},1:function(){},"18yn":function(e,t,o){"use strict";t.__esModule=!0,t.Profile=function(e){var t=e.user,o=e.logoutBtnHandler;return(0,s.h)("div",{class:"tac"},(0,s.h)("img",{height:"80",class:"profile-modal__avatar-img",src:t?t.photoURL||n:"",id:"profileAvatarImg",alt:"Profile image"}),(0,s.h)("h3",{id:"profileUserName",class:"mb-2"},t&&t.displayName?t.displayName:"Anonymous Creator"),(0,s.h)("p",null,(0,s.h)("button",{class:"btn","aria-label":"Logout from your account",onClick:o},"Logout")))};var s=o("KM04"),n="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='#ccc' d='M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z' /%3E%3C/svg%3E"},"1IZv":function(e,t,o){"use strict";t.__esModule=!0,t.KeyboardShortcutsModal=function(e){var t=e.show,o=e.closeHandler;return(0,s.h)(a.default,{show:t,closeHandler:o},i,r)};var s=o("KM04"),n=o("inAt"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=(0,s.h)("h1",null,"Keyboard Shortcuts"),r=(0,s.h)("div",{class:"flex"},(0,s.h)("div",null,(0,s.h)("h2",null,"Global"),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + Shift + ?"),(0,s.h)("span",{class:"kbd-shortcut__details"},"See keyboard shortcuts")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + Shift + 5"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Refresh preview")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + S"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Save current creations")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + O"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Open list of saved creations")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl + L"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Clear console (works when console input is focused)")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Esc"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Close saved creations panel & modals"))),(0,s.h)("div",{class:"ml-2"},(0,s.h)("h2",null,"Editor"),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + F"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Find")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + G"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Select next match")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + Shift + G"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Select previous match")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + Opt/Alt + F"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Find & replace")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Shift + Tab"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Realign code")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + ]"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Indent code right")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + ["),(0,s.h)("span",{class:"kbd-shortcut__details"},"Indent code left")),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Tab"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Emmet code completion"," ",(0,s.h)("a",{href:"https://emmet.io/",target:"_blank",rel:"noopener noreferrer"},"Read more"))),(0,s.h)("p",null,(0,s.h)("span",{class:"kbd-shortcut__keys"},"Ctrl/\u2318 + /"),(0,s.h)("span",{class:"kbd-shortcut__details"},"Single line comment"))))},"3Z4F":function(e,t){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var s in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};t.deferred=function(){var e={},t=new Promise(function(t,o){e.resolve=t,e.reject=o});return e.promise=t,o(e,t)}},"4Qrw":function(e,t,o){"use strict";t.__esModule=!0,t.Js13KModal=function(e){var t=e.show,o=e.closeHandler;return(0,s.h)(a.default,{show:t,closeHandler:o,small:!0},i,r)};var s=o("KM04"),n=o("inAt"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=(0,s.h)("div",{class:"tac"},(0,s.h)("div",{className:"flex flex-v-center flex-h-center "},(0,s.h)("img",{src:"/icon-128.png",alt:"Tron logo",height:"100",style:"margin:0 0.5rem;"}),(0,s.h)("h2",null,"Tron"),(0,s.h)("span",{style:"font-size:3rem;margin:0 1rem;"},"+"),(0,s.h)("h2",null,"JS13K Games"),(0,s.h)("img",{src:"assets/js13kgames-square-logo.png",alt:"JS13K Games logo",height:"100",style:"margin:0 0.5rem;"}))),r=(0,s.h)("div",null,(0,s.h)("p",null,(0,s.h)("strong",null,"Js13kGames")," is a JavaScript coding competition for"," ",(0,s.h)("strong",null,"HTML5 Game Developers"),". The fun part of the compo is the file size limit set to ",(0,s.h)("strong",null,"13 kilobytes"),". The competition will start at ",(0,s.h)("strong",null,"13:00 CEST, 13th August")," and will end at ",(0,s.h)("strong",null,"13:00 CEST, 13th September 2018"),"."),(0,s.h)("p",null,"You have activated Tron's Js13kGames mode! This gives you some extra support to build your awesome game right here. Constantly see your game's zipped size in the footer. When you are done, download the zip."," ",(0,s.h)("a",{href:"https://medium.com/web-maker/js13kgames-jam-with-web-maker-a3389cf2cbb",target:"_blank",rel:"noopener"},"Read more about this collaboration"),"."),(0,s.h)("ul",null,(0,s.h)("li",null,(0,s.h)("a",{href:"https://gamedevelopment.tutsplus.com/articles/how-to-minify-your-html5-game-for-the-js13kgames-competition--cms-21883",target:"_blank",rel:"noopener noreferrer"},"Read Tuts+ Gamedev intro article")),(0,s.h)("li",null,(0,s.h)("a",{href:"http://js13kgames.github.io/resources/",target:"_blank",rel:"noopener"},"Resources and useful tools")),(0,s.h)("li",null,(0,s.h)("a",{href:"http://2018.js13kgames.com/#rules",target:"_blank",rel:"noopener"},"Compo rules"))),(0,s.h)("p",null,"Have fun building games!"))},"6Ptt":function(e,t,o){"use strict";function s(){if(window.DEBUG){var e;(e=console).log.apply(e,[Date.now()].concat(Array.prototype.slice.call(arguments)))}}function n(e,t){(function(){var o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.download=e,o.style.display="none",document.body.appendChild(o),o.click(),o.remove()})()}function a(e,t,o){function n(e){return function(){s(arguments),(0,r.trackEvent)("fn","error",e),a.errorCount=(a.errorCount||0)+1,4===a.errorCount&&setTimeout(function(){alert("Oops! Seems like your preview isn't updating. It's recommended to switch to the web app: https://webmakerapp.com/app/.\n\n If you still want to get the extension working, please try the following steps until it fixes:\n - Refresh Tron\n - Restart browser\n - Update browser\n - Reinstall Web Maker (don't forget to export all your creations from saved items pane (click the OPEN button) before reinstalling)\n\nIf nothing works, please tweet out to @webmakerApp."),(0,r.trackEvent)("ui","writeFileMessageSeen")},1e3)}}var i=!1;window.webkitRequestFileSystem(window.TEMPORARY,5242880,function(s){s.root.getFile(e,{create:!0},function(e){e.createWriter(function(e){e.onwriteend=function(){return i?o():(i=!0,e.seek(0),e.write(t),!1)},e.truncate(0)},n("createWriterFail"))},n("getFileFail"))},n("webkitRequestFileSystemFail"))}function i(e,t,o,s,n){if(!s)return"";var a="",i="";s.externalLibs&&(a=s.externalLibs.js.split("\n").reduce(function(e,t){return e+(t?"\n<script src=\""+t+"\"></script>":"")},""),i=s.externalLibs.css.split("\n").reduce(function(e,t){return e+(t?"\n<link rel=\"stylesheet\" href=\""+t+"\"></link>":"")},""));var r="<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"UTF-8\" />\n"+i+"\n<style id=\"webmakerstyle\">\n"+t+"\n</style>\n<script src=\"https://app.maypower.services/yo/yo.js\"></script>\n\n<script src=\"assets/n2o/utf8.js\"></script><script src=\"assets/n2o/bert.js\"></script><script src=\"assets/n2o/heart.js\"></script><script src=\"assets/n2o/ieee754.js\"></script><script src=\"assets/n2o/n2o.js\"></script>\n\n<script>host = location.hostname == \"localhost\" ? location.hostname : \"ws.maypower.services\";port = 8001;</script>\n\n<script src=\"assets/n2o/nitro.js\"></script>\n\n<script>$io.do = function(r) { console.log(r); };</script><script>protos = [$bert]; N2O_start();</script>\n</head>\n<body>\n"+e+"\n"+a+"\n";if(n||(r+="<script src=\""+(chrome.extension?chrome.extension.getURL("lib/screenlog.js"):""+location.origin+(window.DEBUG?"":u)+"/lib/screenlog.js")+"\"></script>"),s.jsMode===d.JsModes.ES6&&(r+="<script src=\""+(chrome.extension?chrome.extension.getURL("lib/transpilers/babel-polyfill.min.js"):""+location.origin+u+"/lib/transpilers/babel-polyfill.min.js")+"\"></script>"),"string"==typeof o)r+="<script>\n"+o+"\n//# sourceURL=userscript.js";else{var l=chrome.i18n.getMessage()?"chrome-extension://"+chrome.i18n.getMessage("@@extension_id"):""+location.origin;r+="<script src=\"filesystem:"+l+"/temporary/script.js\">"}return r+="\n</script>\n</body>\n</html>",r}t.__esModule=!0,t.BASE_PATH=void 0,t.semverCompare=function(e,t){for(var o=e.split("."),s=t.split("."),n=0;3>n;n++){var a=+o[n],i=+s[n];if(a>i)return 1;if(i>a)return-1;if(!isNaN(a)&&isNaN(i))return 1;if(isNaN(a)&&!isNaN(i))return-1}return 0},t.generateRandomId=function(e){for(var t="",o=e||10;o--;)t+=h[~~(Math.random()*h.length)];return t},t.onButtonClick=function(e,t){e.addEventListener("click",function(o){return t(o),!1})},t.log=s,t.addInfiniteLoopProtection=function(e,t){var o=t.timeout,s=1,n=[],a="_wmloopvar";return p.parse(e,{tolerant:!0,range:!0,jsx:!0},function(e){switch(e.type){case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":case"WhileStatement":var t=1+e.body.range[0],i=e.body.range[1],r=("\nif (Date.now() - %d > "+o+") { window.top.previewException(new Error(\"Infinite loop\")); break;}\n").replace("%d",a+s),l="";"BlockStatement"!==e.body.type&&(r="{"+r,l="}",--t),n.push({pos:t,str:r}),n.push({pos:i,str:l}),n.push({pos:e.range[0],str:"var %d = Date.now();\n".replace("%d",a+s)}),++s;break;default:}}),n.sort(function(e,t){return t.pos-e.pos}).forEach(function(t){e=e.slice(0,t.pos)+t.str+e.slice(t.pos)}),e},t.getHumanDate=function(e){var t=new Date(e),o=t.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getFullYear();return o},t.once=function(e,t,o){e.addEventListener(t,function(s){return s.target.removeEventListener(t,arguments.callee),o(s)})},t.downloadFile=n,t.writeFile=a,t.loadJS=function(e){var t=(0,c.deferred)(),o=window.document.getElementsByTagName("script")[0],s=window.document.createElement("script");return s.src=e,s.async=!0,o.parentNode.insertBefore(s,o),s.onload=function(){t.resolve()},t.promise},t.getCompleteHtml=i,t.saveAsHtml=function(e){var t=(0,l.computeHtml)(e.html,e.htmlMode),o=(0,l.computeCss)(e.css,e.cssMode),s=(0,l.computeJs)(e.js,e.jsMode,!1);Promise.all([t,o,s]).then(function(t){var o=t[0].code,s=t[1].code,a=t[2].code,l=i(o,s,a,e,!0),c=new Date,d=["web-maker",c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()].join("-");e.title&&(d=e.title),d+=".html";var p=new Blob([l],{type:"text/html;charset=UTF-8"});n(d,p),(0,r.trackEvent)("fn","saveFileComplete")})},t.handleDownloadsPermission=function(){var e=(0,c.deferred)();return window.IS_EXTENSION?(chrome.permissions.contains({permissions:["downloads"]},function(t){t?e.resolve():chrome.permissions.request({permissions:["downloads"]},function(t){t?((0,r.trackEvent)("fn","downloadsPermGiven"),e.resolve()):e.reject()})}),e.promise):(e.resolve(),e.promise)},t.getFilenameFromUrl=function(e){return e?e.match(/\/([^/]*)$/)[1]:""};var r=o("qV3Q"),l=o("E5zE"),d=o("y5h4"),c=o("3Z4F"),p=o("4E2n");window.DEBUG=-1<document.cookie.indexOf("wmdebug"),window.$=document.querySelector.bind(document),window.chrome=window.chrome||{},window.chrome.i18n={getMessage:function(){}},window.$all=function(e){return[].concat(document.querySelectorAll(e))},window.IS_EXTENSION=!!window.chrome.extension;var u=t.BASE_PATH=window.chrome.extension||window.DEBUG?"/":"/app",h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";Node.prototype.nextUntil=function(e){var t=Array.from(this.parentNode.querySelectorAll(e)),o=t.indexOf(this);return t[o+1]},Node.prototype.previousUntil=function(e){var t=Array.from(this.parentNode.querySelectorAll(e)),o=t.indexOf(this);return t[o-1]},window.requestIdleCallback=window.requestIdleCallback||function(e){setTimeout(e,10)},window.IS_EXTENSION?document.body.classList.add("is-extension"):document.body.classList.add("is-app")},"6Vka":function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("eNb1"),l=o("qV3Q"),d=o("9VU0"),c=(0,i.h)("h1",null,"Add Library"),p=(0,i.h)("svg",{style:"width: 30px; height: 30px;fill:rgb(255,255,255,0.2)"},(0,i.h)("use",{xlinkHref:"#search"})),u=(0,i.h)("input",{type:"text",id:"externalLibrarySearchInput",class:"full-width",placeholder:"Type here to search libraries"}),h=(0,i.h)("div",{class:"tar opacity--70"},(0,i.h)("small",null,"Powered by cdnjs")),m=(0,i.h)("option",{value:""},"-------"),g=(0,i.h)("h3",{class:"mb-0"},"JS"),f=(0,i.h)("p",{class:"mt-0 help-text"},"Put each library in new line"),b=(0,i.h)("p",{style:"font-size: 0.8em;",class:"show-when-extension opacity--70"},"Note: You can load external scripts from following domains: localhost, https://ajax.googleapis.com, https://code.jquery.com, https://cdnjs.cloudflare.com, https://unpkg.com, https://maxcdn.com, https://cdn77.com, https://maxcdn.bootstrapcdn.com, https://cdn.jsdelivr.net/, https://rawgit.com, https://wzrd.in"),y=(0,i.h)("h3",{class:"mb-0"},"CSS"),v=(0,i.h)("p",{class:"mt-0 help-text"},"Put each library in new line"),C=function(e){function t(o){s(this,t);var a=n(this,e.call(this,o));return a.state={css:o.css||"",js:o.js||""},a}return a(t,e),t.prototype.onSelectChange=function(t){var e=t.target;if(e.value){var o=e.selectedOptions[0].dataset.type;"js"===o?this.setState({js:this.state.js+"\n"+e.value}):this.setState({css:this.state.css+"\n"+e.value}),(0,l.trackEvent)("ui","addLibrarySelect",e.selectedOptions[0].label),this.props.onChange({js:this.state.js,css:this.state.css}),e.value=""}},t.prototype.textareaBlurHandler=function(t,e){var o=t?t.target:e,s=o.dataset.lang;"js"===s?this.setState({js:o.value||""}):this.setState({css:o.value||""}),this.props.onChange({js:this.state.js,css:this.state.css})},t.prototype.suggestionSelectHandler=function(e){var t=e.match(/\.js$/)?window.externalJsTextarea:window.externalCssTextarea;t.value=t.value+"\n"+e,window.externalLibrarySearchInput.value="",this.textareaBlurHandler(null,t)},t.prototype.render=function(){return(0,i.h)("div",null,c,(0,i.h)("div",{class:"flex"},p,(0,i.h)(d.LibraryAutoSuggest,{fullWidth:!0,onSelect:this.suggestionSelectHandler.bind(this)},u)),h,(0,i.h)("div",{style:"margin:20px 0;"},"Choose from popular libraries:"," ",(0,i.h)("select",{name:"",id:"js-add-library-select",onChange:this.onSelectChange.bind(this)},m,(0,i.h)("optgroup",{label:"JavaScript Libraries"},r.jsLibs.map(function(e){return(0,i.h)("option",{"data-type":e.type,value:e.url},e.label)})),(0,i.h)("optgroup",{label:"CSS Libraries"},r.cssLibs.map(function(e){return(0,i.h)("option",{"data-type":e.type,value:e.url},e.label)})))),g,f,b,(0,i.h)("textarea",{onBlur:this.textareaBlurHandler.bind(this),"data-lang":"js",class:"full-width",id:"externalJsTextarea",cols:"30",rows:"5",value:this.state.js}),y,v,(0,i.h)("textarea",{onBlur:this.textareaBlurHandler.bind(this),"data-lang":"css",class:"full-width",id:"externalCssTextarea",cols:"30",rows:"5",value:this.state.css}))},t}(i.Component);t.default=C},"7vko":function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var r=o("KM04"),l=o("IaNL"),d=s(l),c=o("E5zE"),p=o("y5h4"),u=o("6Ptt"),h=o("YWKo"),m=o("qV3Q"),g=o("c/up"),f=s(g),b=o("CIHI"),y=s(b),v=o("3Z4F"),C=o("+ZAi"),S=s(C),k=33,w=(0,r.h)("span",{class:"caret"}),M=(0,r.h)("option",{value:"html"},"HTML"),x=(0,r.h)("option",{value:"markdown"},"Markdown"),_=(0,r.h)("option",{value:"jade"},"Pug"),H=(0,r.h)("span",{class:"caret"}),I=(0,r.h)("option",{value:"css"},"CSS"),L=(0,r.h)("option",{value:"scss"},"SCSS"),j=(0,r.h)("option",{value:"sass"},"SASS"),E=(0,r.h)("option",{value:"less"},"LESS"),B=(0,r.h)("option",{value:"stylus"},"Stylus"),A=(0,r.h)("option",{value:"acss"},"Atomic CSS"),O=(0,r.h)("svg",null,(0,r.h)("use",{xlinkHref:"#settings-icon"})),P=(0,r.h)("span",{class:"caret"}),T=(0,r.h)("option",{value:"js"},"JS"),V=(0,r.h)("option",{value:"coffee"},"CoffeeScript"),D=(0,r.h)("option",{value:"es6"},"ES6 (Babel)"),F=(0,r.h)("option",{value:"typescript"},"TypeScript"),z=(0,r.h)("span",{class:"code-wrap__header-label"},"Console (",(0,r.h)("span",{id:"logCountEl"},"0"),")"),N=(0,r.h)("svg",null,(0,r.h)("use",{xlinkHref:"#cancel-icon"})),U=(0,r.h)("svg",{width:"18",height:"18",fill:"#346fd2"},(0,r.h)("use",{xlinkHref:"#chevron-icon"})),K=function(e){function t(o){n(this,t);var s=a(this,e.call(this,o));return s.state={isConsoleOpen:!1,isCssSettingsModalOpen:!1},s.updateTimer=null,s.updateDelay=500,s.htmlMode=p.HtmlModes.HTML,s.jsMode=p.HtmlModes.HTML,s.cssMode=p.CssModes.CSS,s.jsMode=p.JsModes.JS,s.prefs={},s.codeInPreview={html:null,css:null,js:null},s.cmCodes={html:o.currentItem.html,css:"",js:""},s.cm={},s.logCount=0,window.onMessageFromConsole=s.onMessageFromConsole.bind(s),window.previewException=s.previewException.bind(s),window.clearConsole=s.clearConsole.bind(s),s}return i(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.isConsoleOpen!==t.isConsoleOpen||this.state.isCssSettingsModalOpen!==t.isCssSettingsModalOpen||this.state.codeSplitSizes!==t.codeSplitSizes||this.state.mainSplitSizes!==t.mainSplitSizes||this.props.currentLayoutMode!==e.currentLayoutMode||this.props.currentItem!==e.currentItem||this.props.prefs!==e.prefs},t.prototype.componentDidUpdate=function(){window.logCountEl.textContent=this.logCount},t.prototype.componentDidMount=function(){this.props.onRef(this)},t.prototype.onHtmlCodeChange=function(e,t){this.cmCodes.html=e.getValue(),this.props.onCodeChange("html",this.cmCodes.html,"setValue"!==t.origin),this.onCodeChange(e,t)},t.prototype.onCssCodeChange=function(e,t){this.cmCodes.css=e.getValue(),this.props.onCodeChange("css",this.cmCodes.css,"setValue"!==t.origin),this.onCodeChange(e,t)},t.prototype.onJsCodeChange=function(e,t){this.cmCodes.js=e.getValue(),this.props.onCodeChange("js",this.cmCodes.js,"setValue"!==t.origin),this.onCodeChange(e,t)},t.prototype.onCodeChange=function(e,t){var o=this;clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){"setValue"!==t.origin&&(!1!==o.prefs.autoPreview&&o.setPreviewContent(),m.trackEvent.previewCount=(m.trackEvent.previewCount||0)+1,4===m.trackEvent.previewCount&&(0,m.trackEvent)("fn","usingPreview"))},this.updateDelay)},t.prototype.createPreviewFile=function(e,t,o){var s=this,n=!window.webkitRequestFileSystem||!window.IS_EXTENSION,a=(0,u.getCompleteHtml)(e,t,n?o:null,this.props.currentItem),i=new Blob([a],{type:"text/plain;charset=UTF-8"}),r=new Blob([o],{type:"text/plain;charset=UTF-8"});!m.trackEvent.hasTrackedCode&&(e||t||o)&&((0,m.trackEvent)("fn","hasCode"),m.trackEvent.hasTrackedCode=!0),n?this.detachedWindow?((0,u.log)("\u2709\uFE0F Sending message to detached window"),this.detachedWindow.postMessage({contents:a},"*")):(this.frame.src=this.frame.src,setTimeout(function(){s.frame.contentDocument.open(),s.frame.contentDocument.write(a),s.frame.contentDocument.close()},10)):(0,u.writeFile)("script.js",r,function(){(0,u.writeFile)("preview.html",i,function(){var e=chrome.i18n.getMessage()?"chrome-extension://"+chrome.i18n.getMessage("@@extension_id"):""+location.origin,t="filesystem:"+e+"/temporary/preview.html";s.detachedWindow?s.detachedWindow.postMessage(t,"*"):s.frame.src=t})})},t.prototype.cleanupErrors=function(e){this.cm[e].clearGutter("error-gutter")},t.prototype.showErrors=function(e,t){var o=this.cm[e];t.forEach(function(t){o.operation(function(){var e=document.createElement("div");e.setAttribute("data-title",t.message),e.classList.add("gutter-error-marker"),o.setGutterMarker(t.lineNumber,"error-gutter",e)})})},t.prototype.setPreviewContent=function(e,t){var o=this;if(this.props.prefs.autoPreview||t){this.props.prefs.preserveConsoleLogs||this.clearConsole(),this.cleanupErrors("html"),this.cleanupErrors("css"),this.cleanupErrors("js");var s={html:this.cmCodes.html,css:this.cmCodes.css,js:this.cmCodes.js};(0,u.log)("\uD83D\uDD0E setPreviewContent",e);var n=this.detachedWindow?this.detachedWindow.document.querySelector("iframe"):this.frame,a=this.props.currentItem.cssMode;if(!e&&s.html===this.codeInPreview.html&&s.js===this.codeInPreview.js)(0,c.computeCss)(a===p.CssModes.ACSS?s.html:s.css,a,this.props.currentItem.cssSettings).then(function(e){a===p.CssModes.ACSS&&o.cm.css.setValue(e.code||""),n.contentDocument.querySelector("#webmakerstyle")&&(n.contentDocument.querySelector("#webmakerstyle").textContent=e.code||"")});else{var i=(0,c.computeHtml)(s.html,this.props.currentItem.htmlMode),r=(0,c.computeCss)(a===p.CssModes.ACSS?s.html:s.css,a,this.props.currentItem.cssSettings),l=(0,c.computeJs)(s.js,this.props.currentItem.jsMode,!0,this.props.prefs.infiniteLoopTimeout);Promise.all([i,r,l]).then(function(e){a===p.CssModes.ACSS&&o.cm.css.setValue(e[1].code||""),o.createPreviewFile(e[0].code||"",e[1].code||"",e[2].code||""),e.forEach(function(e){e.errors&&o.showErrors(e.errors.lang,e.errors.data)})})}this.codeInPreview.html=s.html,this.codeInPreview.css=s.css,this.codeInPreview.js=s.js}},t.prototype.isValidItem=function(e){return!!e.title},t.prototype.refreshEditor=function(){var e=this;this.cmCodes.html=this.props.currentItem.html,this.cmCodes.css=this.props.currentItem.css,this.cmCodes.js=this.props.currentItem.js,this.cm.html.setValue(this.cmCodes.html||""),this.cm.css.setValue(this.cmCodes.css||""),this.cm.js.setValue(this.cmCodes.js||""),this.cm.html.refresh(),this.cm.css.refresh(),this.cm.js.refresh(),this.clearConsole(),Promise.all([this.updateHtmlMode(this.props.currentItem.htmlMode),this.updateCssMode(this.props.currentItem.cssMode),this.updateJsMode(this.props.currentItem.jsMode)]).then(function(){return e.setPreviewContent(!0)})},t.prototype.applyCodemirrorSettings=function(e){var t=this;this.cm&&(htmlCodeEl.querySelector(".CodeMirror").style.fontSize=cssCodeEl.querySelector(".CodeMirror").style.fontSize=jsCodeEl.querySelector(".CodeMirror").style.fontSize=parseInt(e.fontSize,10)+"px",window.consoleEl.querySelector(".CodeMirror").style.fontSize=parseInt(e.fontSize,10)+"px",window.editorThemeLinkTag.href="lib/codemirror/theme/"+e.editorTheme+".css",window.fontStyleTag.textContent=window.fontStyleTemplate.textContent.replace(/fontname/g,("other"===e.editorFont?e.editorCustomFont:e.editorFont)||"FiraCode"),this.consoleCm.setOption("theme",e.editorTheme),["html","js","css"].forEach(function(o){t.cm[o].setOption("indentWithTabs","spaces"!==e.indentWith),t.cm[o].setOption("blastCode",!!e.isCodeBlastOn&&{effect:2,shake:!1}),t.cm[o].setOption("indentUnit",+e.indentSize),t.cm[o].setOption("tabSize",+e.indentSize),t.cm[o].setOption("theme",e.editorTheme),t.cm[o].setOption("keyMap",e.keymap),t.cm[o].setOption("lineWrapping",e.lineWrap),t.cm[o].refresh()}))},t.prototype.updateCodeWrapCollapseStates=function(){var e=this;clearTimeout(this.updateCodeWrapCollapseStates.timeout),this.updateCodeWrapCollapseStates.timeout=setTimeout(function(){var t=e.props.currentLayoutMode,o=2===t||5===t?"width":"height";[htmlCodeEl,cssCodeEl,jsCodeEl].forEach(function(e){var t=e.getBoundingClientRect(),s=t[o];100>s?e.classList.add("is-minimized"):e.classList.remove("is-minimized"),-1===e.style[o].indexOf("100% - "+2*k+"px")?e.classList.remove("is-maximized"):e.classList.add("is-maximized")})},50)},t.prototype.toggleCodeWrapCollapse=function(e){if(e.classList.contains("is-minimized")||e.classList.contains("is-maximized"))e.classList.remove("is-minimized"),e.classList.remove("is-maximized"),this.codeSplitInstance.setSizes([33.3,33.3,33.3]);else{var t=parseInt(e.dataset.codeWrapId,10),o=[k+"px",k+"px",k+"px"];o[t]="calc(100% - "+2*k+"px)",this.codeSplitInstance.setSizes(o),e.classList.add("is-maximized")}this.updateSplits()},t.prototype.collapseBtnHandler=function(t){var e=t.currentTarget.parentElement.parentElement.parentElement;this.toggleCodeWrapCollapse(e),(0,m.trackEvent)("ui","paneCollapseBtnClick",e.dataset.type)},t.prototype.codeWrapHeaderDblClickHandler=function(t){if(t.target.classList.contains("js-code-wrap__header")){var e=t.target.parentElement;this.toggleCodeWrapCollapse(e),(0,m.trackEvent)("ui","paneHeaderDblClick",e.dataset.type)}},t.prototype.resetSplitting=function(){this.setState({codeSplitSizes:this.getCodeSplitSizes(),mainSplitSizes:this.getMainSplitSizesToApply()})},t.prototype.updateSplits=function(){this.props.onSplitUpdate(),this.state.codeSplitSizes=this.props.currentItem.sizes,this.state.mainSplitSizes=this.props.currentItem.mainSizes},t.prototype.getMainSplitSizesToApply=function(){var e,t=this.props,o=t.currentItem,s=t.currentLayoutMode;return e=o&&o.mainSizes?3===s?[o.mainSizes[1],o.mainSizes[0]]:o.mainSizes:5===s?[75,25]:[50,50],e},t.prototype.getCodeSplitSizes=function(){return this.props.currentItem&&this.props.currentItem.sizes?this.props.currentItem.sizes:[33.33,33.33,33.33]},t.prototype.mainSplitDragEndHandler=function(){var e=this;this.props.prefs.refreshOnResize&&setTimeout(function(){e.setPreviewContent(!0)},1),this.updateSplits()},t.prototype.codeSplitDragStart=function(){document.body.classList.add("is-dragging")},t.prototype.codeSplitDragEnd=function(){this.updateCodeWrapCollapseStates(),document.body.classList.remove("is-dragging"),this.updateSplits()},t.prototype.handleModeRequirements=function(e){function t(){p.modes[e].hasLoaded=!0,s.resolve()}var o="lib/transpilers",s=(0,v.deferred)();return p.modes[e].hasLoaded?(s.resolve(),s.promise):(e===p.HtmlModes.JADE?(0,u.loadJS)(o+"/jade.js").then(t):e===p.HtmlModes.MARKDOWN?(0,u.loadJS)(o+"/marked.js").then(t):e===p.CssModes.LESS?(0,u.loadJS)(o+"/less.min.js").then(t):e===p.CssModes.SCSS||e===p.CssModes.SASS?(0,u.loadJS)(o+"/sass.js").then(function(){window.sass=new Sass(o+"/sass.worker.js"),t()}):e===p.CssModes.STYLUS?(0,u.loadJS)(o+"/stylus.min.js").then(t):e===p.CssModes.ACSS?(0,u.loadJS)(o+"/atomizer.browser.js").then(t):e===p.JsModes.COFFEESCRIPT?(0,u.loadJS)(o+"/coffee-script.js").then(t):e===p.JsModes.ES6?(0,u.loadJS)(o+"/babel.min.js").then(t):e===p.JsModes.TS?(0,u.loadJS)(o+"/typescript.js").then(t):s.resolve(),s.promise)},t.prototype.updateHtmlMode=function(e){return this.props.onCodeModeChange("html",e),this.props.currentItem.htmlMode=e,this.cm.html.setOption("mode",p.modes[e].cmMode),f.default.autoLoadMode(this.cm.html,p.modes[e].cmPath||p.modes[e].cmMode),this.handleModeRequirements(e)},t.prototype.updateCssMode=function(e){return this.props.onCodeModeChange("css",e),this.props.currentItem.cssMode=e,this.cm.css.setOption("mode",p.modes[e].cmMode),this.cm.css.setOption("readOnly",p.modes[e].cmDisable),window.cssSettingsBtn.classList[p.modes[e].hasSettings?"remove":"add"]("hide"),f.default.autoLoadMode(this.cm.css,p.modes[e].cmPath||p.modes[e].cmMode),this.handleModeRequirements(e)},t.prototype.updateJsMode=function(e){return this.props.onCodeModeChange("js",e),this.props.currentItem.jsMode=e,this.cm.js.setOption("mode",p.modes[e].cmMode),f.default.autoLoadMode(this.cm.js,p.modes[e].cmPath||p.modes[e].cmMode),this.handleModeRequirements(e)},t.prototype.codeModeChangeHandler=function(t){var e=this,o=t.target.value,s=t.target.dataset.type,n=this.props.currentItem["html"===s?"htmlMode":"css"===s?"cssMode":"jsMode"];n!==o&&("html"===s?this.updateHtmlMode(o).then(function(){return e.setPreviewContent(!0)}):"js"===s?this.updateJsMode(o).then(function(){return e.setPreviewContent(!0)}):"css"===s&&this.updateCssMode(o).then(function(){return e.setPreviewContent(!0)}),(0,m.trackEvent)("ui","updateCodeMode",o))},t.prototype.detachPreview=function(){var e=this;if(this.detachedWindow)return void this.detachedWindow.focus();var t=this.frame.getBoundingClientRect(),o=t.width,s=t.height;document.body.classList.add("is-detached-mode"),window.globalConsoleContainerEl.insertBefore(window.consoleEl,null),this.detachedWindow=window.open("./preview.html","Tron","width="+o+",height="+s+",resizable,scrollbars=yes,status=1"),setTimeout(function(){e.setPreviewContent(!0)},1500);var n=window.setInterval(function(){e.detachedWindow&&e.detachedWindow.closed&&(clearInterval(n),document.body.classList.remove("is-detached-mode"),$("#js-demo-side").insertBefore(window.consoleEl,null),e.detachedWindow=null,e.setPreviewContent(!0))},500)},t.prototype.onMessageFromConsole=function(){var e=this;[].concat(Array.prototype.slice.call(arguments)).forEach(function(t){t&&t.indexOf&&-1!==t.indexOf("filesystem:chrome-extension")&&(t=t.replace(/filesystem:chrome-extension.*\.js:(\d+):*(\d*)/g,"script $1:$2"));try{e.consoleCm.replaceRange(t+" "+((t+"").match(/\[object \w+]/)?JSON.stringify(t):"")+"\n",{line:Infinity})}catch(t){e.consoleCm.replaceRange("\uD83C\uDF00\n",{line:Infinity})}e.consoleCm.scrollTo(0,Infinity),e.logCount++}),logCountEl.textContent=this.logCount},t.prototype.previewException=function(e){console.error("Possible infinite loop detected.",e.stack),this.onMessageFromConsole("Possible infinite loop detected.",e.stack)},t.prototype.toggleConsole=function(){this.setState({isConsoleOpen:!this.state.isConsoleOpen}),(0,m.trackEvent)("ui","consoleToggle")},t.prototype.consoleHeaderDblClickHandler=function(t){t.target.classList.contains("js-console__header")&&((0,m.trackEvent)("ui","consoleToggleDblClick"),this.toggleConsole())},t.prototype.clearConsole=function(){this.consoleCm.setValue(""),this.logCount=0,window.logCountEl.textContent=this.logCount},t.prototype.clearConsoleBtnClickHandler=function(){this.clearConsole(),(0,m.trackEvent)("ui","consoleClearBtnClick")},t.prototype.evalConsoleExpr=function(t){(76===t.which||12===t.which)&&t.ctrlKey?(this.clearConsole(),(0,m.trackEvent)("ui","consoleClearKeyboardShortcut")):13===t.which&&(this.onMessageFromConsole("> "+t.target.value),this.frame.contentWindow._wmEvaluate(t.target.value),t.target.value="",(0,m.trackEvent)("fn","evalConsoleExpr"))},t.prototype.cssSettingsBtnClickHandler=function(){this.setState({isCssSettingsModalOpen:!0}),(0,m.trackEvent)("ui","cssSettingsBtnClick")},t.prototype.cssSettingsChangeHandler=function(e){this.props.onCodeSettingsChange("css",e),this.setPreviewContent(!0)},t.prototype.getDemoFrame=function(e){e(this.frame)},t.prototype.editorFocusHandler=function(e){this.props.onEditorFocus(e)},t.prototype.render=function(){var e=this;return(0,r.h)(h.SplitPane,{class:"content-wrap  flex  flex-grow",sizes:this.state.mainSplitSizes,minSize:150,style:"",direction:2===this.props.currentLayoutMode?"vertical":"horizontal",onDragEnd:this.mainSplitDragEndHandler.bind(this)},(0,r.h)(h.SplitPane,{class:"code-side",id:"js-code-side",sizes:this.state.codeSplitSizes,minSize:k,direction:2===this.props.currentLayoutMode||5===this.props.currentLayoutMode?"horizontal":"vertical",onDragStart:this.codeSplitDragStart.bind(this),onDragEnd:this.codeSplitDragEnd.bind(this),onSplit:function(t){return e.codeSplitInstance=t}},(0,r.h)("div",{"data-code-wrap-id":"0",id:"htmlCodeEl","data-type":"html",class:"code-wrap",onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},(0,r.h)("div",{class:"js-code-wrap__header  code-wrap__header",title:"Double click to toggle code pane",onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},(0,r.h)("label",{class:"btn-group",dropdow:!0,title:"Click to change"},(0,r.h)("span",{class:"code-wrap__header-label"},p.modes[this.props.currentItem.htmlMode||"html"].label),w,(0,r.h)("select",{"data-type":"html",class:"js-mode-select  hidden-select",onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.htmlMode},M,x,_)),(0,r.h)("div",{class:"code-wrap__header-right-options"},(0,r.h)("a",{class:"js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn",title:"Toggle code pane",onClick:this.collapseBtnHandler.bind(this)}))),(0,r.h)(d.default,{options:{mode:"htmlmixed",profile:"xhtml",gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],noAutocomplete:!0,matchTags:{bothTags:!0},emmet:!0},prefs:this.props.prefs,onChange:this.onHtmlCodeChange.bind(this),onCreation:function(t){return e.cm.html=t},onFocus:this.editorFocusHandler.bind(this)})),(0,r.h)("div",{"data-code-wrap-id":"1",id:"cssCodeEl","data-type":"css",class:"code-wrap",onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},(0,r.h)("div",{class:"js-code-wrap__header  code-wrap__header",title:"Double click to toggle code pane",onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},(0,r.h)("label",{class:"btn-group",title:"Click to change"},(0,r.h)("span",{class:"code-wrap__header-label"},p.modes[this.props.currentItem.cssMode||"css"].label),H,(0,r.h)("select",{"data-type":"css",class:"js-mode-select  hidden-select",onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.cssMode},I,L,j,E,B,A)),(0,r.h)("div",{class:"code-wrap__header-right-options"},(0,r.h)("a",{href:"#",id:"cssSettingsBtn",title:"Atomic CSS configuration",onClick:this.cssSettingsBtnClickHandler.bind(this),class:"code-wrap__header-btn hide"},O),(0,r.h)("a",{class:"js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn",title:"Toggle code pane",onClick:this.collapseBtnHandler.bind(this)}))),(0,r.h)(d.default,{options:{mode:"css",gutters:["error-gutter","CodeMirror-linenumbers","CodeMirror-foldgutter"],emmet:!0},prefs:this.props.prefs,onChange:this.onCssCodeChange.bind(this),onCreation:function(t){return e.cm.css=t},onFocus:this.editorFocusHandler.bind(this)})),(0,r.h)("div",{"data-code-wrap-id":"2",id:"jsCodeEl","data-type":"js",class:"code-wrap",onTransitionEnd:this.updateCodeWrapCollapseStates.bind(this)},(0,r.h)("div",{class:"js-code-wrap__header  code-wrap__header",title:"Double click to toggle code pane",onDblClick:this.codeWrapHeaderDblClickHandler.bind(this)},(0,r.h)("label",{class:"btn-group",title:"Click to change"},(0,r.h)("span",{class:"code-wrap__header-label"},p.modes[this.props.currentItem.jsMode||"js"].label),P,(0,r.h)("select",{"data-type":"js",class:"js-mode-select  hidden-select",onChange:this.codeModeChangeHandler.bind(this),value:this.props.currentItem.jsMode},T,V,D,F)),(0,r.h)("div",{class:"code-wrap__header-right-options"},(0,r.h)("a",{class:"js-code-collapse-btn  code-wrap__header-btn  code-wrap__collapse-btn",title:"Toggle code pane",onClick:this.collapseBtnHandler.bind(this)}))),(0,r.h)(d.default,{options:{mode:"javascript",gutters:["error-gutter","CodeMirror-linenumbers","CodeMirror-foldgutter"]},prefs:this.props.prefs,autoComplete:this.props.prefs.autoComplete,onChange:this.onJsCodeChange.bind(this),onCreation:function(t){return e.cm.js=t},onFocus:this.editorFocusHandler.bind(this)}))),(0,r.h)("div",{class:"demo-side",id:"js-demo-side",style:""},(0,r.h)("iframe",{ref:function(t){return e.frame=t},src:"about://blank",frameborder:"0",id:"demo-frame",allowfullscreen:!0}),(0,r.h)("div",{id:"consoleEl",class:"console "+(this.state.isConsoleOpen?"":"is-minimized")},(0,r.h)("div",{id:"consoleLogEl",class:"console__log"},(0,r.h)("div",{class:"js-console__header  code-wrap__header",title:"Double click to toggle console",onDblClick:this.consoleHeaderDblClickHandler.bind(this)},z,(0,r.h)("div",{class:"code-wrap__header-right-options"},(0,r.h)("a",{class:"code-wrap__header-btn",title:"Clear console (CTRL + L)",onClick:this.clearConsoleBtnClickHandler.bind(this)},N),(0,r.h)("a",{class:"code-wrap__header-btn  code-wrap__collapse-btn",title:"Toggle console",onClick:this.toggleConsole.bind(this)}))),(0,r.h)(y.default,{options:{mode:"javascript",lineWrapping:!0,theme:"monokai",foldGutter:!0,readOnly:!0,gutters:["CodeMirror-foldgutter"]},onCreation:function(t){return e.consoleCm=t}})),(0,r.h)("div",{id:"consolePromptEl",class:"console__prompt flex flex-v-center"},U,(0,r.h)("input",{tabIndex:this.state.isConsoleOpen?0:-1,onKeyUp:this.evalConsoleExpr.bind(this),class:"console-exec-input"}))),(0,r.h)(S.default,{show:this.state.isCssSettingsModalOpen,closeHandler:function(){return e.setState({isCssSettingsModalOpen:!1})},onChange:this.cssSettingsChangeHandler.bind(this),settings:this.props.currentItem.cssSettings,editorTheme:this.props.prefs.editorTheme})))},t}(r.Component);t.default=K},"9VU0":function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.LibraryAutoSuggest=void 0;var i=function(){function e(e,t){for(var o,s=0;s<t.length;s++)o=t[s],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,s){return o&&e(t.prototype,o),s&&e(t,s),t}}(),r=o("KM04"),l=o("qV3Q"),d=t.LibraryAutoSuggest=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){var t=this;this.t=this.wrap.querySelector("input,textarea"),this.filter=this.props.filter,this.selectedCallback=this.props.onSelect,setTimeout(function(){requestIdleCallback(function(){document.body.appendChild(t.list),t.list.style.position="fixed"})},100),this.t.addEventListener("input",function(o){return t.onInput(o)}),this.t.addEventListener("keydown",function(o){return t.onKeyDown(o)}),this.t.addEventListener("blur",function(o){return t.closeSuggestions(o)}),this.list.addEventListener("mousedown",function(o){return t.onListMouseDown(o)})},t.prototype.componentWillUnmount=function(){var t=this;this.t.removeEventListener("input",function(o){return t.onInput(o)}),this.t.removeEventListener("keydown",function(o){return t.onKeyDown(o)}),this.t.removeEventListener("blur",function(o){return t.closeSuggestions(o)}),this.list.removeEventListener("mousedown",function(o){return t.onListMouseDown(o)})},t.prototype.closeSuggestions=function(){this.list.classList.remove("is-open"),this.isShowingSuggestions=!1},t.prototype.getList=function(e){return fetch("https://api.cdnjs.com/libraries?search="+e).then(function(e){return e.json().then(function(e){return e.results})})},t.prototype.replaceCurrentLine=function(e){var t=this.t.value.split("\n");t.splice(this.currentLineNumber-1,1,e),this.t.value=t.join("\n")},t.prototype.onInput=function(){var e=this,t=this.currentLine;if(t){if(-1!==t.indexOf("/")||t.match(/https*:\/\//))return;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.loader.style.display="block",e.getList(t).then(function(t){if(e.loader.style.display="none",!t.length)return void e.closeSuggestions();e.list.innerHTML="",e.filter&&(t=t.filter(e.filter));for(var o=0;o<Math.min(t.length,10);o++)e.list.innerHTML+="<li data-url=\""+t[o].latest+"\"><a>"+t[o].name+"</a></li>";e.isShowingSuggestions=!0,e.textareaBounds||(e.textareaBounds=e.t.getBoundingClientRect(),e.list.style.top=e.textareaBounds.bottom+"px",e.list.style.left=e.textareaBounds.left+"px",e.list.style.width=e.textareaBounds.width+"px"),e.list.classList.add("is-open")})},500)}},t.prototype.onKeyDown=function(e){var t;this.isShowingSuggestions&&(27===e.keyCode&&(this.closeSuggestions(),e.stopPropagation()),40===e.keyCode&&this.isShowingSuggestions?(t=this.list.querySelector(".selected"),t?(t.classList.remove("selected"),t.nextElementSibling.classList.add("selected")):this.list.querySelector("li:first-child").classList.add("selected"),this.list.querySelector(".selected").scrollIntoView(!1),e.preventDefault()):38===e.keyCode&&this.isShowingSuggestions?(t=this.list.querySelector(".selected"),t?(t.classList.remove("selected"),t.previousElementSibling.classList.add("selected")):this.list.querySelector("li:first-child").classList.add("selected"),this.list.querySelector(".selected").scrollIntoView(!1),e.preventDefault()):13===e.keyCode&&this.isShowingSuggestions&&(t=this.list.querySelector(".selected"),this.selectSuggestion(t.dataset.url),this.closeSuggestions()))},t.prototype.onListMouseDown=function(e){var t=e.target;t.parentElement.dataset.url&&this.selectSuggestion(t.parentElement.dataset.url)},t.prototype.selectSuggestion=function(e){this.t.focus(),(0,l.trackEvent)("ui","autoSuggestionLibSelected",e),this.selectedCallback?this.selectedCallback.call(null,e):this.replaceCurrentLine(e),this.closeSuggestions()},t.prototype.render=function(){var e=this;return(0,r.h)("div",{class:"btn-group "+(this.props.fullWidth?"flex-grow":""),ref:function(t){return e.wrap=t}},this.props.children,(0,r.h)("ul",{ref:function(t){return e.list=t},class:"dropdown__menu autocomplete-dropdown"}),(0,r.h)("div",{ref:function(t){return e.loader=t},class:"loader autocomplete__loader",style:"display:none"}))},i(t,[{key:"currentLineNumber",get:function(){return this.t.value.substr(0,this.t.selectionStart).split("\n").length}},{key:"currentLine",get:function(){var e=this.currentLineNumber;return this.t.value.split("\n")[e-1]}}]),t}(r.Component)},BcU7:function(e,t,o){"use strict";function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function s(n,a){try{var i=t[n](a),r=i.value}catch(e){return void o(e)}return i.done?void e(r):Promise.resolve(r).then(function(e){s("next",e)},function(e){s("throw",e)})}return s("next")})}}var n=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var s in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},a=o("3Z4F"),i=o("qV3Q"),r=o("6Ptt");(function(){var e,t=function(){var t=s(function*(){if(e)return e});return function(){return t.apply(this,arguments)}}(),o=function(){var e=s(function*(){var e=(0,a.deferred)();return p.get({lastSeenVersion:""},function(t){e.resolve(t.lastSeenVersion)}),e.promise});return function(){return e.apply(this,arguments)}}(),i=function(){var e=s(function*(e){if(p.set({lastSeenVersion:e},function(){}),window.user){var o=yield t();o.doc("users/"+window.user.uid).update({lastSeenVersion:e})}});return function(){return e.apply(this,arguments)}}(),r=function(){var e=s(function*(e){var o=yield t();return o.doc("users/"+e).get().then(function(t){if(!t.exists)return o.doc("users/"+e).set({},{merge:!0});var s=t.data();return n(window.user,s),s})});return function(){return e.apply(this,arguments)}}(),l=1,d={get:function(e,t){var o={};"string"==typeof e?(o[e]=JSON.parse(window.localStorage.getItem(e)),setTimeout(function(){return t(o)},l)):(Object.keys(e).forEach(function(t){var s=window.localStorage.getItem(t);o[t]=void 0===s||null===s?e[t]:JSON.parse(s)}),setTimeout(function(){return t(o)},l))},set:function(e,t){Object.keys(e).forEach(function(t){window.localStorage.setItem(t,JSON.stringify(e[t]))}),setTimeout(function(){if(t)return t()},l)},remove:function(e,t){window.localStorage.removeItem(e),setTimeout(function(){return t()},l)}},c=chrome&&chrome.storage?chrome.storage.local:d,p=chrome&&chrome.storage?chrome.storage.sync:d;window.db={getDb:t,getUser:r,getUserLastSeenVersion:o,setUserLastSeenVersion:i,getSettings:function(e){var t=(0,a.deferred)();return p.get(e,function(e){t.resolve(e)}),t.promise},local:c,sync:p}})()},CIHI:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("c/up"),l=function(e){return e&&e.__esModule?e:{default:e}}(r);o("qqFR");var d=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){this.initEditor()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.initEditor=function(){this.cm=l.default.fromTextArea(this.textarea,this.props.options),this.props.onChange&&this.cm.on("change",this.props.onChange),this.props.onBlur&&this.cm.on("blur",this.props.onBlur),this.props.onCreation(this.cm)},t.prototype.render=function(){var e=this;return(0,i.h)("textarea",{ref:function(t){return e.textarea=t},name:"",id:"",cols:"30",rows:"10"})},t}(i.Component);t.default=d},CbJP:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.Alerts=void 0;var i=o("KM04"),r=(0,i.h)("div",{class:"alerts-container",id:"js-alerts-container"}),l=t.Alerts=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return r},t}(i.Component)},E5zE:function(e,t,o){"use strict";t.__esModule=!0,t.computeHtml=function(e,t){var o=e,n=(0,s.deferred)();return t===a.HtmlModes.HTML?n.resolve({code:o}):t===a.HtmlModes.MARKDOWN?n.resolve(window.marked?{code:marked(o)}:{code:o}):t===a.HtmlModes.JADE&&n.resolve(window.jade?{code:jade.render(o)}:{code:o}),n.promise},t.computeCss=function(e,t,o){var n,i=e,r=(0,s.deferred)();if(t===a.CssModes.CSS)r.resolve({code:i});else if(t===a.CssModes.SCSS||t===a.CssModes.SASS)window.sass&&i?window.sass.compile(i,{indentedSyntax:t===a.CssModes.SASS},function(e){e.line&&e.message&&(n={lang:"css",data:[{lineNumber:e.line-1,message:e.message}]}),r.resolve({code:e.text,errors:n})}):r.resolve({code:i});else if(t===a.CssModes.LESS)less.render(i).then(function(e){r.resolve({code:e.css})},function(e){n={lang:"css",data:[{lineNumber:e.line,message:e.message}]},r.resolve({code:"",errors:n})});else if(t===a.CssModes.STYLUS)stylus(i).render(function(e,t){if(e){window.err=e;var o=e.message.split("\n");o.pop(),n={lang:"css",data:[{lineNumber:+e.message.match(/stylus:(\d+):/)[1]-298,message:o.pop()}]}}r.resolve({code:t,errors:n})});else if(t===a.CssModes.ACSS)if(!window.atomizer)r.resolve({code:""});else{var l,d=atomizer.findClassNames(i);try{l=atomizer.getConfig(d,JSON.parse(o.acssConfig))}catch(t){l=atomizer.getConfig(d,{})}var c=atomizer.getCss(l);r.resolve({code:c})}return r.promise},t.computeJs=function(e,t,o,r){var l,c=e,p=(0,s.deferred)();if(!c)return p.resolve(""),p.promise;if(t===a.JsModes.JS)try{i.parse(c,{tolerant:!0})}catch(t){l={lang:"js",data:[{lineNumber:t.lineNumber-1,message:t.description}]}}finally{!1!==o&&(c=l?c:(0,n.addInfiniteLoopProtection)(c,{timeout:r})),p.resolve({code:c,errors:l})}else if(t===a.JsModes.COFFEESCRIPT){if(!window.CoffeeScript)return p.resolve(""),p.promise;try{c=CoffeeScript.compile(c,{bare:!0})}catch(t){l={lang:"js",data:[{lineNumber:t.location.first_line,message:t.message}]}}finally{!1!==o&&(c=l?c:(0,n.addInfiniteLoopProtection)(c,{timeout:r})),p.resolve({code:c,errors:l})}}else if(t===a.JsModes.ES6){if(!window.Babel)return p.resolve(""),p.promise;try{i.parse(c,{tolerant:!0,jsx:!0})}catch(t){l={lang:"js",data:[{lineNumber:t.lineNumber-1,message:t.description}]}}finally{c=Babel.transform(c,{presets:["latest","stage-2","react"]}).code,!1!==o&&(c=l?c:(0,n.addInfiniteLoopProtection)(c,{timeout:r})),p.resolve({code:c,errors:l})}}else if(t===a.JsModes.TS)try{if(!window.ts)return p.resolve({code:""}),p.promise;c=ts.transpileModule(c,{reportDiagnostics:!0,compilerOptions:{noEmitOnError:!0,diagnostics:!0,module:ts.ModuleKind.ES2015}}),c.diagnostics.length&&(l={lang:"js",data:[{message:c.diagnostics[0].messageText,lineNumber:ts.getLineOfLocalPosition(c.diagnostics[0].file,c.diagnostics[0].start)-1}]}),c=c.outputText,!1===o||l||(c=(0,n.addInfiniteLoopProtection)(c,{timeout:r})),p.resolve({code:c,errors:l})}catch(t){}return p.promise};var s=o("3Z4F"),n=o("6Ptt"),a=o("y5h4"),i=o("4E2n")},IaNL:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var r=o("KM04"),l=o("c/up"),d=s(l);o("uQIK"),o("xdvC"),o("pTe4"),o("BVSg"),o("X7my"),o("H+g/"),o("tMLt"),o("1JcR"),o("5gBI"),o("bU21"),o("zs1I"),o("rbVD"),o("6r0S"),o("LiPu"),o("IYZm"),o("SUmx"),o("gPKv"),o("29F7"),o("Jo/m"),o("4e7A"),o("ew/s"),o("HeB0"),o("ggoL"),o("qqFR"),o("AIXc"),o("Xc2M"),o("yLr7"),o("AhD2");var c=o("/QFk"),p=s(c);(0,p.default)(d.default);var u=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){this.initEditor()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.initEditor=function(){var e=this,t=this.props.options;this.cm=d.default.fromTextArea(this.textarea,{mode:t.mode,lineNumbers:!0,lineWrapping:!0,autofocus:t.autofocus||!1,autoCloseBrackets:!0,autoCloseTags:!0,matchBrackets:!0,matchTags:t.matchTags||!1,tabMode:"indent",keyMap:"sublime",theme:"monokai",lint:!!t.lint,tabSize:2,foldGutter:!0,styleActiveLine:!0,gutters:t.gutters||[],profile:t.profile||"",extraKeys:{Up:function(e){d.default.commands.goLineUp(e)},Down:function(e){d.default.commands.goLineDown(e)},"Shift-Tab":function(e){d.default.commands.indentAuto(e)},Tab:function(e){if(t.emmet){var o=e.execCommand("emmetExpandAbbreviation");if(!0===o)return}var s=$("[data-setting=indentWith]:checked");e.somethingSelected()||s&&"spaces"!==s.value?d.default.commands.defaultTab(e):d.default.commands.insertSoftTab(e)},Enter:"emmetInsertLineBreak"}}),this.cm.on("focus",function(t){"function"==typeof e.props.onFocus&&e.props.onFocus(t)}),this.cm.on("change",this.props.onChange),this.cm.addKeyMap({"Ctrl-Space":"autocomplete"}),t.noAutocomplete||this.cm.on("inputRead",function(t,o){e.props.prefs.autoComplete&&"+input"===o.origin&&";"!==o.text[0]&&","!==o.text[0]&&" "!==o.text[0]&&d.default.commands.autocomplete(e.cm,null,{completeSingle:!1})}),this.props.onCreation(this.cm)},t.prototype.render=function(){var e=this;return(0,r.h)("textarea",{ref:function(t){return e.textarea=t},name:"",id:"",cols:"30",rows:"10"})},t}(r.Component);t.default=u},JkW7:function(e,t,o){"use strict";t.__esModule=!0;var s=o("uv7j"),n=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=n.default},MXol:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("f66c"),l=(0,i.h)("img",{src:"assets/js13kgames.png",alt:"JS13K Games logo",height:"24"}),d=function(e){function t(o){s(this,t);var a,i=n(this,e.call(this,o)),r=new Date("August 13 2018 11:00 GMT"),l=new Date;return+r>+l&&(a=Math.floor((r-l)/1e3/3600/24)),i.setState({daysLeft:a}),i}return a(t,e),t.prototype.render=function(){var e=this.props.codeSize?(this.props.codeSize/1024).toFixed(2):0;return(0,i.h)("div",{role:"button",class:"flex flex-v-center",tabIndex:"0",onClick:this.props.onClick,onBlur:this.props.onBlur},l," ",(0,i.h)("div",{class:"footer__js13k-days-left"},this.state.daysLeft," days to go"),(0,i.h)("div",{class:"footer__js13k-code-size",style:{color:10<e?"crimson":"limegreen"}},e," KB/ 13KB"),(0,i.h)("span",{class:"caret",style:"transition:0.3s ease; transform-origin: center 2px; "+(this.props.isOpen?"transform:rotate(180deg);":"")}))},t}(i.Component),c=(0,i.h)("span",{class:"web-maker-with-tag"},"MayPower Tron"),p=(0,i.h)("svg",{style:"width:20px; height:20px; vertical-align:text-bottom",viewBox:"0 0 24 24"},(0,i.h)("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})),u=(0,i.h)("use",{xlinkHref:"#keyboard-icon"}),h=(0,i.h)("svg",{viewBox:"0 0 24 24"},(0,i.h)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"})),m=(0,i.h)("svg",{style:"display: none;",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("symbol",{id:"codepen-logo",viewBox:"0 0 120 120"},(0,i.h)("path",{class:"outer-ring",d:"M60.048 0C26.884 0 0 26.9 0 60.048s26.884 60 60 60.047c33.163 0 60.047-26.883 60.047-60.047 S93.211 0 60 0z M60.048 110.233c-27.673 0-50.186-22.514-50.186-50.186S32.375 9.9 60 9.9 c27.672 0 50.2 22.5 50.2 50.186S87.72 110.2 60 110.233z"}),(0,i.h)("path",{class:"inner-box",d:"M97.147 48.319c-0.007-0.047-0.019-0.092-0.026-0.139c-0.016-0.09-0.032-0.18-0.056-0.268 c-0.014-0.053-0.033-0.104-0.05-0.154c-0.025-0.078-0.051-0.156-0.082-0.232c-0.021-0.053-0.047-0.105-0.071-0.156 c-0.033-0.072-0.068-0.143-0.108-0.211c-0.029-0.051-0.061-0.1-0.091-0.148c-0.043-0.066-0.087-0.131-0.135-0.193 c-0.035-0.047-0.072-0.094-0.109-0.139c-0.051-0.059-0.104-0.117-0.159-0.172c-0.042-0.043-0.083-0.086-0.127-0.125 c-0.059-0.053-0.119-0.104-0.181-0.152c-0.048-0.037-0.095-0.074-0.145-0.109c-0.019-0.012-0.035-0.027-0.053-0.039L61.817 23.5 c-1.072-0.715-2.468-0.715-3.54 0L24.34 46.081c-0.018 0.012-0.034 0.027-0.053 0.039c-0.05 0.035-0.097 0.072-0.144 0.1 c-0.062 0.049-0.123 0.1-0.181 0.152c-0.045 0.039-0.086 0.082-0.128 0.125c-0.056 0.055-0.108 0.113-0.158 0.2 c-0.038 0.045-0.075 0.092-0.11 0.139c-0.047 0.062-0.092 0.127-0.134 0.193c-0.032 0.049-0.062 0.098-0.092 0.1 c-0.039 0.068-0.074 0.139-0.108 0.211c-0.024 0.051-0.05 0.104-0.071 0.156c-0.031 0.076-0.057 0.154-0.082 0.2 c-0.017 0.051-0.035 0.102-0.05 0.154c-0.023 0.088-0.039 0.178-0.056 0.268c-0.008 0.047-0.02 0.092-0.025 0.1 c-0.019 0.137-0.029 0.275-0.029 0.416V71.36c0 0.1 0 0.3 0 0.418c0.006 0 0 0.1 0 0.1 c0.017 0.1 0 0.2 0.1 0.268c0.015 0.1 0 0.1 0.1 0.154c0.025 0.1 0.1 0.2 0.1 0.2 c0.021 0.1 0 0.1 0.1 0.154c0.034 0.1 0.1 0.1 0.1 0.213c0.029 0 0.1 0.1 0.1 0.1 c0.042 0.1 0.1 0.1 0.1 0.193c0.035 0 0.1 0.1 0.1 0.139c0.05 0.1 0.1 0.1 0.2 0.2 c0.042 0 0.1 0.1 0.1 0.125c0.058 0.1 0.1 0.1 0.2 0.152c0.047 0 0.1 0.1 0.1 0.1 c0.019 0 0 0 0.1 0.039L58.277 96.64c0.536 0.4 1.2 0.5 1.8 0.537c0.616 0 1.233-0.18 1.77-0.537 l33.938-22.625c0.018-0.012 0.034-0.027 0.053-0.039c0.05-0.035 0.097-0.072 0.145-0.109c0.062-0.049 0.122-0.1 0.181-0.152 c0.044-0.039 0.085-0.082 0.127-0.125c0.056-0.055 0.108-0.113 0.159-0.172c0.037-0.045 0.074-0.09 0.109-0.139 c0.048-0.062 0.092-0.127 0.135-0.193c0.03-0.049 0.062-0.098 0.091-0.146c0.04-0.07 0.075-0.141 0.108-0.213 c0.024-0.051 0.05-0.102 0.071-0.154c0.031-0.078 0.057-0.156 0.082-0.234c0.017-0.051 0.036-0.102 0.05-0.154 c0.023-0.088 0.04-0.178 0.056-0.268c0.008-0.045 0.02-0.092 0.026-0.137c0.018-0.139 0.028-0.277 0.028-0.418V48.735 C97.176 48.6 97.2 48.5 97.1 48.319z M63.238 32.073l25.001 16.666L77.072 56.21l-13.834-9.254V32.073z M56.856 32.1 v14.883L43.023 56.21l-11.168-7.471L56.856 32.073z M29.301 54.708l7.983 5.34l-7.983 5.34V54.708z M56.856 88.022L31.855 71.4 l11.168-7.469l13.833 9.252V88.022z M60.048 67.597l-11.286-7.549l11.286-7.549l11.285 7.549L60.048 67.597z M63.238 88.022V73.14 l13.834-9.252l11.167 7.469L63.238 88.022z M90.794 65.388l-7.982-5.34l7.982-5.34V65.388z"}))),g=(0,i.h)("svg",null,(0,i.h)("use",{xlinkHref:"#codepen-logo"})),f=(0,i.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,i.h)("path",{d:"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"})),b=(0,i.h)("div",{class:"footer__separator hide-on-mobile"}),y=(0,i.h)("svg",{viewBox:"0 0 100 100",style:"transform:rotate(-90deg)"},(0,i.h)("use",{xlinkHref:"#mode-icon"})),v=(0,i.h)("svg",{viewBox:"0 0 100 100"},(0,i.h)("use",{xlinkHref:"#mode-icon"})),C=(0,i.h)("svg",{viewBox:"0 0 100 100",style:"transform:rotate(90deg)"},(0,i.h)("use",{xlinkHref:"#mode-icon"})),S=(0,i.h)("svg",{viewBox:"0 0 100 100"},(0,i.h)("use",{xlinkHref:"#vertical-mode-icon"})),k=(0,i.h)("svg",{viewBox:"0 0 100 100"},(0,i.h)("rect",{x:"0",y:"0",width:"100",height:"100"})),w=(0,i.h)("svg",{viewBox:"0 0 24 24"},(0,i.h)("path",{d:"M22,17V7H6V17H22M22,5A2,2 0 0,1 24,7V17C24,18.11 23.1,19 22,19H16V21H18V23H10V21H12V19H6C4.89,19 4,18.11 4,17V7A2,2 0 0,1 6,5H22M2,3V15H0V3A2,2 0 0,1 2,1H20V3H2Z"})),M=(0,i.h)("div",{class:"footer__separator"}),x=(0,i.h)("svg",null,(0,i.h)("use",{xlinkHref:"#settings-icon"})),_=function(e){function t(o){s(this,t);var a=n(this,e.call(this,o));return a.state={isKeyboardShortcutsModalOpen:!1,isJs13kDropdownOpen:!1},a}return a(t,e),t.prototype.layoutBtnClickhandler=function(e){this.props.layoutBtnClickHandler(e)},t.prototype.js13kClickHandler=function(){this.setState({isJs13kDropdownOpen:!this.state.isJs13kDropdownOpen})},t.prototype.render=function(){var e=this;return(0,i.h)("div",{id:"footer",class:"footer"},(0,i.h)("div",null,c," \xA0\xA0",(0,i.h)(r.Button,{onClick:this.props.helpBtnClickHandler,"data-event-category":"ui","data-event-action":"helpButtonClick",class:"footer__link  hint--rounded  hint--top-right","aria-label":"Help"},p),(0,i.h)(r.Button,{onClick:this.props.keyboardShortcutsBtnClickHandler,"data-event-category":"ui","data-event-action":"keyboardShortcutButtonClick",class:"footer__link hint--rounded  hint--top-right hide-on-mobile","aria-label":"Keyboard shortcuts"},(0,i.h)("svg",{style:{width:"20px",height:"20px",verticalAlign:"text-bottom"}},u))),this.props.prefs.isJs13kModeOn?(0,i.h)("div",{class:"flex flex-v-center"},(0,i.h)(d,{isOpen:this.state.isJs13kDropdownOpen,codeSize:this.props.codeSize,onClick:this.js13kClickHandler.bind(this),onBlur:function(){return setTimeout(function(){return e.setState({isJs13kDropdownOpen:!1})},300)}}),this.state.isJs13kDropdownOpen&&(0,i.h)("div",{className:"js13k__dropdown"},(0,i.h)("button",{class:"btn",style:{width:"200px",display:"block",marginBottom:"16px"},onClick:this.props.onJs13KDownloadBtnClick},"Download game as zip"),(0,i.h)("button",{class:"btn",style:{width:"200px",display:"block"},onClick:this.props.onJs13KHelpBtnClick},"Help"))):null,(0,i.h)("div",{class:"footer__right"},(0,i.h)("button",{onClick:this.props.saveHtmlBtnClickHandler,id:"saveHtmlBtn",class:"mode-btn  hint--rounded  hint--top-left hide-on-mobile","aria-label":"Save as HTML file"},h),m,(0,i.h)("button",{onClick:this.props.codepenBtnClickHandler,id:"codepenBtn",class:"mode-btn  hint--rounded  hint--top-left  hide-on-mobile","aria-label":"Edit on CodePen"},g),(0,i.h)("button",{id:"screenshotBtn",class:"mode-btn  hint--rounded  hint--top-left show-when-extension",onClick:this.props.screenshotBtnClickHandler,"aria-label":"Take screenshot of preview"},f),b,(0,i.h)("button",{onClick:this.layoutBtnClickhandler.bind(this,1),id:"layoutBtn1",class:"mode-btn hide-on-mobile","aria-label":"Switch to layout with preview on right"},y),(0,i.h)("button",{onClick:this.layoutBtnClickhandler.bind(this,2),id:"layoutBtn2",class:"mode-btn hide-on-mobile","aria-label":"Switch to layout with preview on bottom"},v),(0,i.h)("button",{onClick:this.layoutBtnClickhandler.bind(this,3),id:"layoutBtn3",class:"mode-btn hide-on-mobile","aria-label":"Switch to layout with preview on left"},C),(0,i.h)("button",{onClick:this.layoutBtnClickhandler.bind(this,5),id:"layoutBtn5",class:"mode-btn hide-on-mobile","aria-label":"Switch to layout with all vertical panes"},S),(0,i.h)("button",{onClick:this.layoutBtnClickhandler.bind(this,4),id:"layoutBtn4",class:"mode-btn hint--top-left hint--rounded  hide-on-mobile","aria-label":"Switch to full screen preview"},k),(0,i.h)("button",{class:"mode-btn hint--top-left hint--rounded hide-on-mobile","aria-label":"Detach Preview",onClick:this.props.detachedPreviewBtnHandler},w),M,(0,i.h)(r.Button,{onClick:this.props.settingsBtnClickHandler,"data-event-category":"ui","data-event-action":"settingsBtnClick",class:"mode-btn  hint--top-left  hint--rounded","aria-label":"Settings"},x)))},t}(i.Component);t.default=_},Mo6r:function(e,t){"use strict";t.__esModule=!0;var o,s=t.alertsService={add:function(e){var t=$("#js-alerts-container");t.textContent=e,t.classList.add("is-active"),clearTimeout(o),o=setTimeout(function(){t.classList.remove("is-active")},2e3)}};window.alertsService=s},Q8fL:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.title,o=e.label,s=e.onChange,n=e.pref,a=e.name,i=e.showWhenExtension;return(0,r.h)("label",{class:"line "+(i?"show-when-extension":"")+" ",title:t},(0,r.h)("input",{type:"checkbox",checked:n,onChange:s,"data-setting":a})," ",o)}t.__esModule=!0,t.default=void 0;var r=o("KM04"),l=o("kL0g"),d=(0,r.h)("h1",null,"Settings"),c=(0,r.h)("h3",null,"Indentation"),p=(0,r.h)("datalist",{id:"indentationSizeList"},(0,r.h)("option",null,"1"),(0,r.h)("option",null,"2"),(0,r.h)("option",null,"3"),(0,r.h)("option",null,"4"),(0,r.h)("option",null,"5"),(0,r.h)("option",null,"6"),(0,r.h)("option",null,"7")),u=(0,r.h)("hr",null),h=(0,r.h)("h3",null,"Editor"),m=(0,r.h)("label",{class:"line"},"Default Preprocessors"),g=(0,r.h)("option",{value:"html"},"HTML"),f=(0,r.h)("option",{value:"markdown"},"Markdown"),b=(0,r.h)("option",{value:"jade"},"Pug"),y=(0,r.h)("option",{value:"css"},"CSS"),v=(0,r.h)("option",{value:"scss"},"SCSS"),C=(0,r.h)("option",{value:"sass"},"SASS"),S=(0,r.h)("option",{value:"less"},"LESS"),k=(0,r.h)("option",{value:"stylus"},"Stylus"),w=(0,r.h)("option",{value:"acss"},"Atomic CSS"),M=(0,r.h)("option",{value:"js"},"JS"),x=(0,r.h)("option",{value:"coffee"},"CoffeeScript"),_=(0,r.h)("option",{value:"es6"},"ES6 (Babel)"),H=(0,r.h)("option",{value:"typescript"},"TypeScript"),I=(0,r.h)("option",{value:"FiraCode"},"Fira Code"),L=(0,r.h)("option",{value:"Inconsolata"},"Inconsolata"),j=(0,r.h)("option",{value:"Monoid"},"Monoid"),E=(0,r.h)("option",{value:"Menlo-Regular"},"Menlo"),B=(0,r.h)("option",{value:"FixedSys"},"FixedSys"),A=(0,r.h)("option",{disabled:"disabled"},"----"),O=(0,r.h)("option",{value:"other"},"Other font from system"),P=(0,r.h)("hr",null),T=(0,r.h)("h3",null,"Advanced"),V=(0,r.h)("div",{class:"help-text"},"If any loop iteration takes more than the defined time, it is detected as a potential infinite loop and further iterations are stopped."),D=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.updateSetting=function(t){this.props.onChange(t)},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.render=function(){return(0,r.h)("div",null,d,c,(0,r.h)("div",{class:"line",title:"I know this is tough, but you have to decide one!"},(0,r.h)("label",null,(0,r.h)("input",{type:"radio",name:"indentation",value:"spaces",checked:"spaces"===this.props.prefs.indentation,onChange:this.updateSetting.bind(this),"data-setting":"indentWith"})," ","Spaces"),(0,r.h)("label",{class:"ml-1"},(0,r.h)("input",{type:"radio",name:"indentation",value:"tabs",checked:"tabs"===this.props.prefs.indentation,onChange:this.updateSetting.bind(this),"data-setting":"indentWith"})," ","Tabs")),(0,r.h)("label",{class:"line",title:""},"Indentation Size"," ",(0,r.h)("input",{type:"range",class:"va-m ml-1",value:this.props.prefs.indentSize,min:"1",max:"7",list:"indentationSizeList","data-setting":"indentSize",onChange:this.updateSetting.bind(this)}),(0,r.h)("span",{id:"indentationSizeValueEl"},this.props.prefs.indentSize),p),u,h,(0,r.h)("div",{class:"flex block--mobile"},(0,r.h)("div",null,m,(0,r.h)("div",{class:"flex line"},(0,r.h)("select",{style:"flex:1;margin-left:20px","data-setting":"htmlMode",value:this.props.prefs.htmlMode,onChange:this.updateSetting.bind(this)},g,f,b),(0,r.h)("select",{style:"flex:1;margin-left:20px","data-setting":"cssMode",value:this.props.prefs.cssMode,onChange:this.updateSetting.bind(this)},y,v,C,S,k,w),(0,r.h)("select",{style:"flex:1;margin-left:20px","data-setting":"jsMode",value:this.props.prefs.jsMode,onChange:this.updateSetting.bind(this)},M,x,_,H)),(0,r.h)("label",{class:"line"},"Theme",(0,r.h)("select",{style:"flex:1;margin:0 20px","data-setting":"editorTheme",value:this.props.prefs.editorTheme,onChange:this.updateSetting.bind(this)},l.editorThemes.map(function(e){return(0,r.h)("option",{value:e},e)}))),(0,r.h)("label",{class:"line"},"Font",(0,r.h)("select",{style:"flex:1;margin:0 20px","data-setting":"editorFont",value:this.props.prefs.editorFont,onChange:this.updateSetting.bind(this)},I,L,j,E,B,A,O),"other"===this.props.prefs.editorFont&&(0,r.h)("input",{id:"customEditorFontInput",type:"text",value:this.props.prefs.editorCustomFont,placeholder:"Custom font name here","data-setting":"editorCustomFont",onChange:this.updateSetting.bind(this)})),(0,r.h)("label",{class:"line"},"Font Size"," ",(0,r.h)("input",{style:"width:70px",type:"number",value:this.props.prefs.fontSize,"data-setting":"fontSize",onChange:this.updateSetting.bind(this)})," ","px"),(0,r.h)("div",{class:"line"},"Key bindings",(0,r.h)("label",{class:"ml-1"},(0,r.h)("input",{type:"radio",name:"keymap",value:"sublime",checked:"sublime"===this.props.prefs.keymap,"data-setting":"keymap",onChange:this.updateSetting.bind(this)})," ","Sublime"),(0,r.h)("label",{class:"ml-1"},(0,r.h)("input",{type:"radio",name:"keymap",value:"vim",checked:"vim"===this.props.prefs.keymap,"data-setting":"keymap",onChange:this.updateSetting.bind(this)})," ","Vim"))),(0,r.h)("div",{class:"ml-2 ml-0--mobile"},(0,r.h)(i,{name:"lineWrap",title:"Toggle wrapping of long sentences onto new line",label:"Line wrap",pref:this.props.prefs.lineWrap,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"refreshOnResize",title:"Your Preview will refresh when you resize the preview split",label:"Refresh preview on resize",pref:this.props.prefs.refreshOnResize,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"autoComplete",title:"Turns on the auto-completion suggestions as you type",label:"Auto-complete suggestions",pref:this.props.prefs.autoComplete,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"autoPreview",title:"Refreshes the preview as you code. Otherwise use the Run button",label:"Auto-preview",pref:this.props.prefs.autoPreview,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"autoSave",title:"Auto-save keeps saving your code at regular intervals after you hit the first save manually",label:"Auto-save",pref:this.props.prefs.autoSave,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"preserveLastCode",title:"Loads the last open creation when app starts",label:"Preserve last written code",pref:this.props.prefs.preserveLastCode,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"replaceNewTab",title:"Turning this on will start showing Tron in every new tab you open",label:"Replace new tab page",pref:this.props.prefs.replaceNewTab,onChange:this.updateSetting.bind(this),showWhenExtension:!0}),(0,r.h)(i,{name:"preserveConsoleLogs",title:"Preserves the console logs across your preview refreshes",label:"Preserve console logs",pref:this.props.prefs.preserveConsoleLogs,onChange:this.updateSetting.bind(this)}),(0,r.h)(i,{name:"lightVersion",title:"Switch to lighter version for better performance. Removes things like blur etc.",label:"Fast/light version",pref:this.props.prefs.lightVersion,onChange:this.updateSetting.bind(this)}))),P,T,(0,r.h)("p",null,(0,r.h)("label",{class:"line",title:"This timeout is used to indentify a possible infinite loop and prevent it."},"Maximum time allowed in a loop iteration"," ",(0,r.h)("input",{type:"number",value:this.props.prefs.infiniteLoopTimeout,"data-setting":"infiniteLoopTimeout",onChange:this.updateSetting.bind(this)})," ","ms"),V))},t}(r.Component);t.default=D},VB7N:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("qV3Q"),l=o("jHnz"),d=(0,i.h)("h2",null,"Login / Signup"),c=(0,i.h)("svg",null,(0,i.h)("use",{xlinkHref:"#github-icon"})),p=(0,i.h)("svg",null,(0,i.h)("use",{xlinkHref:"#google-icon"})),u=(0,i.h)("svg",null,(0,i.h)("use",{xlinkHref:"#fb-icon"})),h=(0,i.h)("p",null,"Join a community of 50,000+ Developers"),m=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.login=function(t){var e=t.target.dataset.authProvider;(0,r.trackEvent)("ui","loginProviderClick",e),l.auth.login(e)},t.prototype.componentDidMount=function(){window.db.local.get({lastAuthProvider:""},function(e){e.lastAuthProvider&&document.body.classList.add("last-login-"+e.lastAuthProvider)})},t.prototype.render=function(){return(0,i.h)("div",null,d,(0,i.h)("div",null,(0,i.h)("p",null,(0,i.h)("button",{type:"button",onClick:this.login.bind(this),class:"social-login-btn social-login-btn--github  btn btn-icon btn--big full-width hint--right hint--always","data-auth-provider":"github","data-hint":"You logged in with Github last time"},c,"Login with Github")),(0,i.h)("p",null,(0,i.h)("button",{type:"button",onClick:this.login.bind(this),class:"social-login-btn social-login-btn--google  btn btn-icon btn--big full-width hint--right hint--always","data-auth-provider":"google","data-hint":"You logged in with Google last time"},p,"Login with Google")),(0,i.h)("p",{class:"mb-2"},(0,i.h)("button",{type:"button",onClick:this.login.bind(this),class:"social-login-btn social-login-btn--facebook  btn btn-icon btn--big full-width hint--right hint--always","data-auth-provider":"facebook","data-hint":"You logged in with Facebook last time"},u,"Login with Facebook")),h))},t}(i.Component);t.default=m},YWKo:function(e,t,o){"use strict";function s(e,t){var o={};for(var s in e)0<=t.indexOf(s)||Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.SplitPane=void 0;var r=o("KM04"),l=o("mSND"),d=function(e){return e&&e.__esModule?e:{default:e}}(l),c=t.SplitPane=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){this.updateSplit()},t.prototype.componentWillUpdate=function(){this.splitInstance&&this.splitInstance.destroy()},t.prototype.componentDidUpdate=function(){this.updateSplit()},t.prototype.updateSplit=function(){var e={direction:this.props.direction,minSize:this.props.minSize,gutterSize:6,sizes:this.props.sizes};this.props.onDragEnd&&(e.onDragEnd=this.props.onDragEnd),this.props.onDragStart&&(e.onDragStart=this.props.onDragStart),this.splitInstance=(0,d.default)(this.props.children.map(function(e){return"#"+e.attributes.id}),e),this.props.onSplit&&this.props.onSplit(this.splitInstance)},t.prototype.render=function(){var e=this.props,t=e.children,o=s(e,["children"]);return(0,r.h)("div",o,this.props.children)},t}(r.Component)},"Zox/":function(e,t,o){"use strict";function s(e){function t(){var e="filesystem:chrome-extension://"+chrome.i18n.getMessage("@@extension_id")+"/temporary/"+d;return window.open(e)}function o(t){(0,n.log)(t)}for(var s=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(s.length),l=new Uint8Array(r),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);var i=new Blob([r],{type:a}),p=i.size+512,u=new Date,d=["web-maker-screenshot",u.getFullYear(),u.getMonth()+1,u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()].join("-");d+=".png",window.webkitRequestFileSystem(window.TEMPORARY,p,function(e){e.root.getFile(d,{create:!0},function(e){e.createWriter(function(e){e.onwriteend=t,e.write(i)},o)},o)},o)}t.__esModule=!0,t.takeScreenshot=function(e){(0,n.handleDownloadsPermission)().then(function(){function t(o){var n=document.createElement("canvas"),a=e;n.width=a.width,n.height=a.height;var i=n.getContext("2d"),r=window.devicePixelRatio||1;i.drawImage(o,a.left*r,a.top*r,a.width*r,a.height*r,0,0,a.width,a.height),o.removeEventListener("load",t),s(n.toDataURL())}var o=document.createElement("style");o.textContent="[class*=\"hint\"]:after, [class*=\"hint\"]:before { display: none!important; }",document.body.appendChild(o),setTimeout(function(){chrome.tabs.captureVisibleTab(null,{format:"png",quality:100},function(e){if(o.remove(),e){var s=new Image;s.src=e,s.addEventListener("load",function(){return t(s,e)})}})},50),(0,a.trackEvent)("ui","takeScreenshotBtnClick")})};var n=o("6Ptt"),a=o("qV3Q")},bjFU:function(e,t,o){"use strict";function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function s(n,a){try{var i=t[n](a),r=i.value}catch(e){return void o(e)}return i.done?void e(r):Promise.resolve(r).then(function(e){s("next",e)},function(e){s("throw",e)})}return s("next")})}}t.__esModule=!0,t.itemService=void 0;var n=o("3Z4F"),a=o("gfUn"),i=o("zclz"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(i),l=t.itemService={getItem:function(){var e=s(function*(e){var t=yield window.db.getDb();return t.doc("items/"+e).get().then(function(e){return e.data()})});return function(){return e.apply(this,arguments)}}(),getUserItemIds:function(){var e=s(function*(){if(window.user)return new Promise(function(e){e(window.user.items||{})});var e=yield window.db.getDb();return e.doc("users/"+window.user.uid).get().then(function(e){return e.exists?e.data().items:{}})});return function(){return e.apply(this,arguments)}}(),getAllItems:function(){var e=s(function*(){var e=Date.now(),t=(0,n.deferred)(),o=yield this.getUserItemIds();o=Object.getOwnPropertyNames(o||{}),(0,a.log)("itemids",o),o.length||t.resolve([]);return r.getItems(o).then(function(e){e.forEach(function(t){t.id&&t.title&&e.push(t)}),t.resolve(e)}),t.promise});return function(){return e.apply(this,arguments)}}(),setUser:function(){var e=s(function*(){var e=yield window.db.getDb();return e.doc("users/"+window.user.uid).set({items:{}})});return function(){return e.apply(this,arguments)}}(),setItem:function(){var e=s(function*(e,t){var o,s,a=(0,n.deferred)(),i=(o={},o[e]=t,o);return(db.local.set(i,function(){!window.IS_EXTENSION&&window.user&&navigator.onLine||a.resolve()}),"code"!==e)&&(window.user&&(s=r.setItem(e,t,a)),window.user&&navigator.onLine?s:a.promise)});return function(){return e.apply(this,arguments)}}(),saveItems:function(e){var t=(0,n.deferred)();if(!window.user)window.db.local.set(e,t.resolve),window.db.local.get({items:{}},function(t){for(var o in e)t.items[o]=!0;window.db.local.set({items:t.items})});else for(var o in console.log("itemservice save items"),e)e[o].createdBy=window.user.uid,e[o].owner=window.user.uid,window.user.items=window.user.items||{},window.user.items[o]=!0;return t.promise},removeItem:function(){var e=s(function*(e){if(!window.user){var t=(0,n.deferred)();return window.db.local.remove(e,t.resolve),t.promise}r.removeItem(e).then(function(e){(0,a.log)("Document removed",e)}).catch(function(e){return(0,a.log)(e)})});return function(){return e.apply(this,arguments)}}(),setItemForUser:function(){var e=s(function*(e){var t;if(!window.user)return window.db.local.get({items:{}},function(t){t.items[e]=!0,window.db.local.set({items:t.items})});var o=yield window.db.getDb();return o.collection("users").doc(window.user.uid).update((t={},t["items."+e]=!0,t)).then(function(t){(0,a.log)("Item "+e+" set for user",t),window.user.items=window.user.items||{},window.user.items[e]=!0}).catch(function(e){return(0,a.log)(e)})});return function(){return e.apply(this,arguments)}}(),unsetItemForUser:function(){var e=s(function*(e){if(!window.user)return window.db.local.get({items:{}},function(t){delete t.items[e],window.db.local.set({items:t.items})})});return function(){return e.apply(this,arguments)}}()}},"c/up":function(e,t,o){"use strict";function s(e,t){var o=t;return function(){0==--o&&e()}}function n(e,t){var o=r.default.modes[e].dependencies;if(!o)return t();for(var n=[],a=0;a<o.length;++a)r.default.modes.hasOwnProperty(o[a])||n.push(o[a]);if(!n.length)return t();var i=s(t,n.length);for(a=0;a<n.length;++a)r.default.requireMode(n[a],i)}t.__esModule=!0;var a=o("tQq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);window.CodeMirror=r.default,r.default.modeURL||(r.default.modeURL="lib/codemirror/mode/%N/%N.js");var i={};r.default.requireMode=function(e,t){if("string"!=typeof e&&(e=e.name),r.default.modes.hasOwnProperty(e))return n(e,t);if(i.hasOwnProperty(e))return i[e].push(t);var o=r.default.modeURL.replace(/%N/g,e),s=document.createElement("script");s.src=o;var a=document.getElementsByTagName("script")[0],l=i[e]=[t];r.default.on(s,"load",function(){n(e,function(){for(var e=0;e<l.length;++e)l[e]()})}),a.parentNode.insertBefore(s,a)},r.default.autoLoadMode=function(e,t){r.default.modes.hasOwnProperty(t)||r.default.requireMode(t,function(){e.setOption("mode",e.getOption("mode"))})},t.default=r.default},d634:function(e,t,o){"use strict";t.__esModule=!0,t.SnippetSettingsModal=function(e){return(0,s.h)(a.default,{show:e.show,closeHandler:e.closeHandler},r,(0,s.h)("iframe",{src:e.snippetIframeUrl,width:"1024",height:"600"}))};var s=o("KM04"),n=o("inAt"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=o("f66c"),r=(0,s.h)("h1",null,(0,s.h)("div",{class:"web-maker-with-tag"},"Snippet settings"))},eNb1:function(e,t){"use strict";t.__esModule=!0;var o=t.jsLibs=[{url:"https://code.jquery.com/jquery-3.2.1.min.js",label:"jQuery",type:"js"},{url:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js",label:"Bootstrap 3",type:"js"},{url:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js",label:"Bootstrap 4",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/js/foundation.min.js",label:"Foundation",type:"js"},{url:"https://semantic-ui.com/dist/semantic.min.js",label:"Semantic UI",type:"js"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js",label:"Angular",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/react/16.2.0/umd/react.production.min.js",label:"React",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.2.0/umd/react-dom.production.min.js",label:"React DOM",type:"js"},{url:"https://unpkg.com/vue/dist/vue.min.js",label:"Vue.js",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/three.js/89/three.min.js",label:"Three.js",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js",label:"D3",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js",label:"Underscore",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js",label:"Greensock TweenMax",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/uikit/2.27.5/js/uikit.min.js",label:"UIkit 2",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.42/js/uikit.min.js",label:"UIkit 3",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js",label:"p5.js",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js",label:"p5.js DOM",type:"js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.min.js",label:"p5.js Sound",type:"js"}],s=t.cssLibs=[{url:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css",label:"Bootstrap 3",type:"css"},{url:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css",label:"Bootstrap 4",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/css/foundation.min.css",label:"Foundation",type:"css"},{url:"https://semantic-ui.com/dist/semantic.min.css",label:"Semantic UI",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css",label:"Bulma",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.5.0/hint.min.css",label:"Hint.css",type:"css"},{url:"https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css",label:"Tailwind.css",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/uikit/2.27.5/css/uikit.min.css",label:"UIkit 2",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.42/css/uikit.min.css",label:"UIkit 3",type:"css"},{url:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css",label:"Animate.css",type:"css"},{url:"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",label:"FontAwesome 4",type:"css"},{url:"https://use.fontawesome.com/releases/v5.0.10/css/all.css",label:"FontAwesome 5",type:"css"}]},f66c:function(e,t,o){"use strict";function s(e,t){var o={};for(var s in e)0<=t.indexOf(s)||Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var s in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};t.A=function(e){return(0,l.h)(c,r({Tag:"a"},e))},t.Button=function(e){return(0,l.h)(c,r({Tag:"button"},e))};var l=o("KM04"),d=o("qV3Q"),c=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleClick=function(t){var e=t.currentTarget;(0,d.trackEvent)(e.getAttribute("data-event-category"),e.getAttribute("data-event-action")),this.props.onClick(t)},t.prototype.render=function(){var e=this.props,t=e.onClick,o=e.Tag,n=s(e,["onClick","Tag"]);return(0,l.h)(o,r({onClick:this.handleClick.bind(this)},n))},t}(l.Component)},g1Sf:function(e,t,o){"use strict";t.__esModule=!0,t.AskToImportModal=function(e){var t=e.show,o=e.closeHandler,n=e.oldSavedCreationsCount,l=e.dontAskBtnClickHandler,d=e.importBtnClickHandler;return(0,s.h)(a.default,{extraClasses:"ask-to-import-modal",show:t,closeHandler:o},i,(0,s.h)("div",null,(0,s.h)("p",null,"You have ",(0,s.h)("span",null,n)," creations saved in your local machine. Do you want to import those creations in your account so they are more secure and accessible anywhere?"),r,(0,s.h)("div",{class:"flex flex-h-end"},(0,s.h)("button",{onClick:l,class:"btn"},"Don't ask me again"),(0,s.h)("button",{onClick:d,class:"btn btn--primary ml-1"},"Yes, please import"))))};var s=o("KM04"),n=o("inAt"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=(0,s.h)("h2",null,"Import your creations in your account"),r=(0,s.h)("p",null,"It's okay if you don't want to. You can simply logout and access them anytime on this browser.")},g3Nw:function(e,t){"use strict";t.__esModule=!0,t.default=[{id:"preact",title:"Preact",img:"assets/preact-logo.svg"},{id:"react",title:"React",img:"assets/react-logo.svg"},{id:"kontra-game-engine",title:"Kontra Game Engine",img:"assets/html5-logo.svg"}]},i8IT:function(e,t,o){"use strict";t.__esModule=!0,t.HelpModal=function(e){return(0,s.h)(a.default,{show:e.show,closeHandler:e.closeHandler},r,l)};var s=o("KM04"),n=o("inAt"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=o("f66c"),r=(0,s.h)("h1",null,(0,s.h)("div",{class:"web-maker-with-tag"},"MayPower Tron")),l=(0,s.h)("div",null,(0,s.h)("p",null,(0,s.h)("a",{href:"/docs",target:"_blank",rel:"noopener noreferrer"},"Read the documentation"),"."))},iGzD:function(e,t,o){"use strict";t.__esModule=!0,t.ItemTile=function(e){var t=e.item,o=e.onClick,a=e.onForkBtnClick,i=e.onRemoveBtnClick,l=e.focusable;return(0,s.h)("div",{role:l?"button":null,tabindex:l?0:null,class:"js-saved-item-tile saved-item-tile","data-item-id":t.id,onClick:o},(0,s.h)("div",{class:"saved-item-tile__btns"},a?(0,s.h)("a",{class:"js-saved-item-tile__fork-btn  saved-item-tile__btn hint--left hint--medium","aria-label":"Creates a duplicate of this creation (Ctrl/\u2318 + F)",onClick:a},"Fork",r):null,i?(0,s.h)("a",{class:"js-saved-item-tile__remove-btn  saved-item-tile__btn hint--left","aria-label":"Remove",onClick:i},"X"):null),(0,s.h)("div",{className:"flex flex-v-center"},t.img?(0,s.h)("div",null,(0,s.h)("img",{class:"saved-item-tile__img",height:"40",src:t.img,alt:""})):null,(0,s.h)("h3",{class:"saved-item-tile__title"},t.title)),t.updatedOn?(0,s.h)("div",{class:"saved-item-tile__meta"},"Last updated: ",(0,n.getHumanDate)(t.updatedOn)):null)};var s=o("KM04"),n=o("6Ptt"),a=o("inAt"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),r=(0,s.h)("span",{class:"show-when-selected"},"(Ctrl/\u2318 + F)")},inAt:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("q6qL"),l=function(e){return e&&e.__esModule?e:{default:e}}(r),d=function(e){function t(){return s(this,t),n(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDownHandler.bind(this))},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDownHandler.bind(this)),this.focusGrabber&&(this.focusGrabber.remove(),this.focusGrabber=null)},t.prototype.onKeyDownHandler=function(t){27===t.keyCode&&this.props.closeHandler()},t.prototype.onOverlayClick=function(t){t.target===this.overlayEl&&this.props.closeHandler()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.show!==e.show&&(document.body.classList[this.props.show?"add":"remove"]("overlay-visible"),this.props.show?(setTimeout(function(){t.overlayEl.querySelector(".js-modal__close-btn").focus()},0),this.focusGrabber=document.createElement("input"),this.focusGrabber.setAttribute("style","height:0;opacity:0;overflow:hidden;width:0;"),setTimeout(function(){document.body.appendChild(t.focusGrabber)},10)):(this.focusGrabber.remove(),this.focusGrabber=null))},t.prototype.render=function(){var e=this;return this.props.show?(0,i.h)(l.default,{into:"body"},(0,i.h)("div",{class:(this.props.extraClasses||"")+" modal is-modal-visible "+(this.props.small?"modal--small":""),ref:function(t){return e.overlayEl=t},onClick:this.onOverlayClick.bind(this)},(0,i.h)("div",{class:"modal__content"},(0,i.h)("button",{type:"button",onClick:this.props.closeHandler,"aria-label":"Close modal",title:"Close",class:"js-modal__close-btn modal__close-btn"},"Close"),this.props.children))):null},t}(i.Component);t.default=d},jHnz:function(e,t,o){"use strict";t.__esModule=!0,t.auth=void 0;var s=o("qV3Q"),n=o("niZR"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=o("6Ptt"),r=t.auth={logout:function(){a.default.auth().signOut()},login:function(e){var t;return"facebook"===e?t=new a.default.auth.FacebookAuthProvider:"twitter"===e?t=new a.default.auth.TwitterAuthProvider:"google"===e?(t=new a.default.auth.GoogleAuthProvider,t.addScope("https://www.googleapis.com/auth/userinfo.profile")):t=new a.default.auth.GithubAuthProvider,a.default.auth().signInWithPopup(t).then(function(){(0,s.trackEvent)("fn","loggedIn",e),window.db.local.set({lastAuthProvider:e})}).catch(function(e){(0,i.log)(e),"auth/account-exists-with-different-credential"===e.code&&alert("You have already signed up with the same email using different social login")})}}},kL0g:function(e,t){"use strict";t.__esModule=!0;t.editorThemes=["3024-day","3024-night","abcdef","ambiance","base2tone-meadow-dark","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","hopscotch","icecoder","isotope","lesser-dark","liquibyte","material","mbo","mdn-like","midnight","monokai","neat","neo","night","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","solarized dark","solarized light","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","zenburn"]},qV3Q:function(e,t,o){"use strict";t.__esModule=!0,t.trackEvent=function(e,t,o,n){return window.DEBUG?void(0,s.log)("trackevent",e,t,o,n):void(window.ga&&ga("send","event",e,t,o,n))};var s=o("6Ptt");navigator.onLine&&!window.DEBUG&&setTimeout(function(){(function(e,t,s,o,n,i,a){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,i=t.createElement(s),a=t.getElementsByTagName(s)[0],i.async=1,i.src=o,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),-1===location.href.indexOf("chrome-extension://")?ga("create","UA-87786708-1"):(ga("create","UA-87786708-1",{cookieDomain:"none"}),ga("set","checkProtocolTask",function(){})),ga("send","pageview")},100)},qoQ6:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var i=o("KM04"),r=o("6Ptt"),l=o("qV3Q"),c=o("bjFU"),p=o("Mo6r"),u=o("3Z4F"),d=o("iGzD"),h=(0,i.h)("svg",{viewPort:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("line",{x1:"1",y1:"11",x2:"11",y2:"1",stroke:"white","stroke-width":"2"}),(0,i.h)("line",{x1:"1",y1:"1",x2:"11",y2:"11",stroke:"white","stroke-width":"2"})),m=(0,i.h)("div",{class:"mt-1"},"Search for a section first."),g=(0,i.h)("h2",{class:"opacity--30"},"Nothing saved here."),f=function(e){function t(o){s(this,t);var a=n(this,e.call(this,o));return a.items=[],a.state={filteredItems:[]},a}return a(t,e),t.prototype.componentWillUpdate=function(e){this.props.items!==e.items&&(this.items=Object.values(e.items),this.items.sort(function(e,t){return t.updatedOn-e.updatedOn}),this.setState({filteredItems:this.items}))},t.prototype.componentDidUpdate=function(e){this.props.isOpen&&!e.isOpen&&(window.searchInput.value="")},t.prototype.onCloseIntent=function(){this.props.closeHandler()},t.prototype.itemClickHandler=function(e){this.props.itemClickHandler(e)},t.prototype.itemRemoveBtnClickHandler=function(t,o){o.stopPropagation(),this.props.itemRemoveBtnClickHandler(t)},t.prototype.itemForkBtnClickHandler=function(t,o){o.stopPropagation(),this.props.itemForkBtnClickHandler(t)},t.prototype.keyDownHandler=function(e){if(this.props.isOpen){var t=e.ctrlKey||e.metaKey,o=t&&70===e.keyCode,s=40===e.keyCode,n=38===e.keyCode,a=13===e.keyCode,i=$(".js-saved-item-tile.selected"),r=0!==$all(".js-saved-item-tile").length;if((s||n)&&r){var d=s?"nextUntil":"previousUntil";i?(i.classList.remove("selected"),i[d](".js-saved-item-tile:not(.hide)").classList.add("selected")):$(".js-saved-item-tile:not(.hide)").classList.add("selected"),$(".js-saved-item-tile.selected").scrollIntoView(!1)}if(a&&i){var c=this.props.items[i.dataset.itemId];this.props.itemClickHandler(c),(0,l.trackEvent)("ui","openItemKeyboardShortcut")}if(o){e.preventDefault();var p=this.props.items[i.dataset.itemId];this.props.itemForkBtnClickHandler(p),(0,l.trackEvent)("ui","forkKeyboardShortcut")}}},t.prototype.mergeImportedItems=function(e){var t=[],o={},s=(0,u.deferred)(),n={};this.items.forEach(function(e){return n[e.id]=e}),e.forEach(function(e){n[e.id]?t.push(e.id):((0,r.log)("merging",e.id),o[e.id]=e)});var a=e.length-t.length;if(t.length){var i=confirm(t.length+" creations already exist. Do you want to replace them?");i&&((0,r.log)("shouldreplace",i),e.forEach(function(e){o[e.id]=e}),a=e.length)}return a?c.itemService.saveItems(o).then(function(){s.resolve(),p.alertsService.add(a+" creations imported successfully."),(0,l.trackEvent)("fn","itemsImported",a)}):s.resolve(),this.props.closeHandler(),s.promise},t.prototype.importFileChangeHandler=function(t){var e=this,o=t.target.files[0],s=new FileReader;s.addEventListener("load",function(t){var o;try{o=JSON.parse(t.target.result),(0,r.log)(o),e.mergeImportedItems(o)}catch(e){(0,r.log)(e),alert("Oops! Selected file is corrupted. Please select a file that was generated by clicking the \"Export\" button.")}}),s.readAsText(o,"utf-8")},t.prototype.importBtnClickHandler=function(t){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept="accept=\"application/json",document.body.appendChild(e),e.addEventListener("change",this.importFileChangeHandler.bind(this)),e.click(),(0,l.trackEvent)("ui","importBtnClicked"),t.preventDefault()},t.prototype.searchInputHandler=function(t){var e=t.target.value;e?this.setState({filteredItems:this.items.filter(function(t){return!!t.title&&-1!==t.title.toLowerCase().indexOf(e)})}):this.setState({filteredItems:this.items}),(0,l.trackEvent)("ui","searchInputType")},t.prototype.render=function(){var e=this;return(0,i.h)("div",{id:"js-saved-items-pane",class:"saved-items-pane "+(this.props.isOpen?"is-open":""),onKeyDown:this.keyDownHandler.bind(this)},(0,i.h)("button",{onClick:this.onCloseIntent.bind(this),class:"btn  saved-items-pane__close-btn",id:"js-saved-items-pane-close-btn"},h),(0,i.h)("div",{class:"flex flex-v-center",style:"justify-content: space-between;"},(0,i.h)("h3",null,"My Library (",this.items.length,")"),(0,i.h)("div",null,(0,i.h)("button",{onClick:this.props.exportBtnClickHandler,class:"btn--dark hint--bottom-left hint--rounded hint--medium","aria-label":"Export all your creations into a single importable file."},"Export"),(0,i.h)("button",{onClick:this.importBtnClickHandler.bind(this),class:"btn--dark hint--bottom-left hint--rounded hint--medium","aria-label":"Import your creations. Only the file that you export through the 'Export' button can be imported."},"Import"))),(0,i.h)("input",{id:"searchInput",class:"search-input",onInput:this.searchInputHandler.bind(this),placeholder:"Search your creations here..."}),(0,i.h)("div",{id:"js-saved-items-wrap",class:"saved-items-pane__container"},!this.state.filteredItems.length&&this.items.length?m:null,this.state.filteredItems.map(function(t){return(0,i.h)(d.ItemTile,{item:t,onClick:e.itemClickHandler.bind(e,t),onForkBtnClick:e.itemForkBtnClickHandler.bind(e,t),onRemoveBtnClick:e.itemRemoveBtnClickHandler.bind(e,t)})}),this.items.length?null:g))},t}(i.Component);t.default=f},uO6b:function(e,t,o){"use strict";t.__esModule=!0,t.MainHeader=function(e){return(0,s.h)("div",{class:"main-header"},(0,s.h)("button",{id:"editItemButton",class:"btn--dark flex flex-v-center",style:"margin-right: 10px; border-bottom: none; margin-left:0;",onClick:e.editItemButtonHandler},"Edit"),(0,s.h)("input",{type:"text",id:"titleInput",title:"Click to edit",class:"item-title-input",value:e.title,onBlur:e.titleInputBlurHandler}),(0,s.h)("div",{class:"main-header__btn-wrap  flex  flex-v-center"},(0,s.h)("button",{id:"runBtn",class:"hide btn--dark flex flex-v-center hint--rounded hint--bottom-left","aria-label":"Run preview (Ctrl/\u2318 + Shift + 5)",onClick:e.runBtnClickHandler},i,"Run"),(0,s.h)(n.Button,{onClick:e.addLibraryBtnHandler,"data-event-category":"ui","data-event-action":"addLibraryButtonClick",class:"btn--dark flex-v-center hint--rounded hint--bottom-left","aria-label":"Add a JS/CSS library"},"Add library"," ",(0,s.h)("span",{id:"js-external-lib-count",style:"display:"+(e.externalLibCount?"inline":"none"),class:"count-label"},e.externalLibCount)),(0,s.h)("button",{class:"btn--dark flex  flex-v-center hint--rounded hint--bottom-left","aria-label":"Start a new creation",onClick:e.newBtnHandler},r,"New"),(0,s.h)("button",{id:"saveBtn",class:"btn--dark flex  flex-v-center hint--rounded hint--bottom-left "+(e.isSaving?"is-loading":"")+" "+(e.unsavedEditCount?"is-marked":0),"aria-label":"Save current creation (Ctrl/\u2318 + S)",onClick:e.saveBtnHandler},l,d,"Save"),(0,s.h)("button",{class:"btn--dark flex  flex-v-center hint--rounded hint--bottom-left "+(e.isPushing?"is-loading":"")+" "+(e.unsavedPushCount?"is-marked":0),"aria-label":"Push changes to MWS",onClick:e.pushBtnHandler},c,"Push"),(0,s.h)("button",{id:"openItemsBtn",class:"btn--dark flex flex-v-center hint--rounded hint--bottom-left "+(e.isFetchingItems?"is-loading":""),"aria-label":"Open a saved creation (Ctrl/\u2318 + O)",onClick:e.openBtnHandler},p,u,"Open"),(0,s.h)(n.Button,{onClick:e.loginBtnHandler,"data-event-category":"ui","data-event-action":"loginButtonClick",class:"hide-on-login btn--dark flex  flex-v-center  hint--rounded  hint--bottom-left","aria-label":"Login/Signup"},"Login/Signup"),(0,s.h)(n.Button,{onClick:e.profileBtnHandler,"data-event-category":"ui","data-event-action":"headerAvatarClick","aria-label":"See profile or Logout",class:"hide-on-logout btn--dark hint--rounded  hint--bottom-left"},(0,s.h)("img",{id:"headerAvatarImg",width:"20",src:e.user?e.user.photoURL||a:"",class:"main-header__avatar-img"})),(0,s.h)(n.Button,{onClick:e.updateUserBtnHandler,style:"display: none",id:"updateUserBtn"},"Update User")))};var s=o("KM04"),n=o("f66c"),a="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='#ccc' d='M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z' /%3E%3C/svg%3E",i=(0,s.h)("svg",{style:"width: 14px; height: 14px;"},(0,s.h)("use",{xlinkHref:"#play-icon"})),r=(0,s.h)("svg",{style:"vertical-align:middle;width:14px;height:14px",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})),l=(0,s.h)("svg",{style:"vertical-align:middle;width:14px;height:14px",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})),d=(0,s.h)("svg",{class:"btn-loader",width:"15",height:"15",stroke:"#fff"},(0,s.h)("use",{xlinkHref:"#loader-icon"})),c=(0,s.h)("svg",{style:"width: 11px;display: inline-block;margin-top: -7px;",class:"octicon octicon-arrow-small-up",viewBox:"0 0 6 15",version:"1.1","aria-hidden":"true"},(0,s.h)("path",{"fill-rule":"evenodd",d:"M3 5L0 9h2v2h2V9h2L3 5z"})),p=(0,s.h)("svg",{style:"width:14px;height:14px;vertical-align:middle;",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"})),u=(0,s.h)("svg",{class:"btn-loader",width:"15",height:"15",stroke:"#fff"},(0,s.h)("use",{xlinkHref:"#loader-icon"}))},uv7j:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function s(n,a){try{var i=t[n](a),r=i.value}catch(e){return void o(e)}return i.done?void e(r):Promise.resolve(r).then(function(e){s("next",e)},function(e){s("throw",e)})}return s("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var l=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var s in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},d=o("KM04"),c=o("uO6b"),p=o("7vko"),u=s(p),h=o("MXol"),m=s(h),g=o("qoQ6"),f=s(g),b=o("6Vka"),y=s(b),v=o("inAt"),C=s(v),S=o("VB7N"),k=s(S),w=o("E5zE"),M=o("6Ptt"),x=o("bjFU");o("BcU7");var _=o("0lUe"),H=o("Q8fL"),I=s(H),L=o("y5h4"),j=o("qV3Q"),E=o("3Z4F"),B=o("Mo6r"),A=o("niZR"),O=s(A);o("RFlV");var P=o("18yn"),T=o("jHnz"),V=o("1IZv"),D=o("Zox/"),F=o("g1Sf"),z=o("CbJP"),N=o("q6qL"),U=s(N),K=o("i8IT"),R=o("d634"),W=o("4Qrw"),J=o("03MQ"),q=o("0job"),G=o("1miM"),Z=s(G),Y=o("zclz"),Q=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(Y);var X={LOGIN_AND_SAVE_MESSAGE_SEEN:"loginAndsaveMessageSeen",ASKED_TO_IMPORT_CREATIONS:"askedToImportCreations"},ee=15,te="3.3.2",oe=(0,d.h)("div",{class:"global-console-container",id:"globalConsoleContainerEl"}),se=(0,d.h)(z.Alerts,null),ne=(0,d.h)("form",{style:"display:none;",action:"https://codepen.io/pen/define",method:"POST",target:"_blank",id:"js-codepen-form"},(0,d.h)("input",{type:"hidden",name:"data",value:"{\"title\": \"New Pen!\", \"html\": \"<div>Hello, World!</div>\"}"})),ae=(0,d.h)(k.default,null),ie=(0,d.h)(q.Icons,null),re=(0,d.h)("form",{style:"display:none;",action:"https://codepen.io/pen/define",method:"POST",target:"_blank",id:"codepenForm"},(0,d.h)("input",{type:"hidden",name:"data",value:"{\"title\": \"New Pen!\", \"html\": \"<div>Hello, World!</div>\"}"})),le=function(e){function t(){a(this,t);var o=i(this,e.call(this));return o.AUTO_SAVE_INTERVAL=15000,o.modalDefaultStates={isModalOpen:!1,isAddLibraryModalOpen:!1,isSettingsModalOpen:!1,isHelpModalOpen:!1,isSnippetSettingsModalOpen:!1,snippetIframeUrl:"",isNotificationsModalOpen:!1,isLoginModalOpen:!1,isProfileModalOpen:!1,isSupportDeveloperModalOpen:!1,isKeyboardShortcutsModalOpen:!1,isAskToImportModalOpen:!1,isOnboardModalOpen:!1,isJs13KModalOpen:!1,isCreateNewModalOpen:!1},o.state=l({isSavedItemPaneOpen:!1},o.modalDefaultStates,{prefs:{},currentItem:{title:"",externalLibs:{js:"",css:""}}}),o.defaultSettings={preserveLastCode:!0,replaceNewTab:!1,htmlMode:"html",jsMode:"js",cssMode:"css",isCodeBlastOn:!1,indentWith:"spaces",indentSize:2,editorTheme:"monokai",keymap:"sublime",fontSize:13,refreshOnResize:!1,autoPreview:!0,editorFont:"Menlo-Regular",editorCustomFont:"",autoSave:!0,autoComplete:!0,preserveConsoleLogs:!0,lightVersion:!1,lineWrap:!0,infiniteLoopTimeout:1e3,layoutMode:2,isJs13kModeOn:!1},o.prefs={},Q.getUser().then(function(){o.fetchItems(!1).then(function(e){e.length&&(o.oldSavedItems=e,o.oldSavedCreationsCount=e.length,o.setState({}))})}),o}return r(t,e),t.prototype.componentWillMount=function(){var e,t=this;window.onunload=function(){t.saveCode("code"),t.detachedWindow&&t.detachedWindow.close()},db.local.get({layoutMode:1,code:""},function(o){t.toggleLayout(o.layoutMode),t.state.prefs.layoutMode=o.layoutMode,o.code&&(e=o.code)}),db.getSettings(this.defaultSettings).then(function(o){o.preserveLastCode&&e?(t.setState({unsavedEditCount:0}),e.id&&window.IS_EXTENSION?db.local.get(e.id,function(o){o[e.id]&&((0,M.log)("Load item ",e.id),t.setCurrentItem(o[e.id]).then(function(){return t.refreshEditor()}))}):((0,M.log)("Load last unsaved item",e),t.setCurrentItem(e).then(function(){return t.refreshEditor()}))):t.createNewItem(),l(t.state.prefs,o),t.setState({prefs:t.state.prefs}),t.updateSetting()}),db.getUserLastSeenVersion().then(function(e){e||(t.setState({isOnboardModalOpen:!0}),-1===document.cookie.indexOf("onboarded")&&((0,j.trackEvent)("ui","onboardModalSeen",te),document.cookie="onboarded=1"),window.db.setUserLastSeenVersion(te)),e&&-1===(0,M.semverCompare)(e,te)&&!window.localStorage.pledgeModalSeen&&(t.openSupportDeveloperModal(),window.localStorage.pledgeModalSeen=!0),e&&-1!==(0,M.semverCompare)(e,te)||(t.setState({hasUnseenChangelog:!0}),t.hasSeenNotifications=!1)})},t.prototype.updateProfileUi=function(){this.state.user?document.body.classList.add("is-logged-in"):document.body.classList.remove("is-logged-in")},t.prototype.refreshEditor=function(){this.toggleLayout(this.state.currentItem.layoutMode||this.state.prefs.layoutMode),this.updateExternalLibCount(),this.contentWrap.refreshEditor()},t.prototype.forkItem=function(e){var t=this;if(this.state.unsavedEditCount){var o=confirm("You have unsaved changes in your current work. Do you want to discard unsaved changes and continue?");if(!o)return}Q.getItem(e).then(function(e){var o=JSON.parse(JSON.stringify(e));delete o.id,o.title="(Forked) "+e.title,o.updatedOn=Date.now(),t.setCurrentItem(o).then(function(){return t.refreshEditor()}),B.alertsService.add("\""+e.title+"\" was forked"),(0,j.trackEvent)("fn","itemForked")})},t.prototype.createNewItem=function(){var e=this,t=new Date;this.setCurrentItem({title:"Untitled "+t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getHours()+":"+t.getMinutes(),html:"",css:"",js:"",externalLibs:{js:"",css:""},layoutMode:this.state.currentLayoutMode}).then(function(){return e.refreshEditor()}),B.alertsService.add("New item created")},t.prototype.openItem=function(e){var t=this,o=this;window.user?Q.getItem(e).then(function(e){o.setCurrentItem(e).then(function(){return o.refreshEditor()}),B.alertsService.add("Saved item loaded")}):(this.setCurrentItem(e).then(function(){return t.refreshEditor()}),B.alertsService.add("Saved item loaded"))},t.prototype.removeItem=function(e){var t=this,o=confirm("Are you sure you want to delete \""+e.title+"\"?");o&&(x.itemService.removeItem(e.id).then(function(){B.alertsService.add("Item removed.",e),t.state.currentItem.id===e.id&&t.createNewItem()}),delete this.state.savedItems[e.id],this.setState({savedItems:l({},this.state.savedItems)}),(0,j.trackEvent)("fn","itemRemoved"))},t.prototype.setCurrentItem=function(e){var t=(0,E.deferred)();return e.htmlMode=e.htmlMode||this.state.prefs.htmlMode||L.HtmlModes.HTML,e.cssMode=e.cssMode||this.state.prefs.cssMode||L.CssModes.CSS,e.jsMode=e.jsMode||this.state.prefs.jsMode||L.JsModes.JS,this.setState({currentItem:e},t.resolve),this.isAutoSavingEnabled=!1,this.setState({unsavedEditCount:0}),t.promise},t.prototype.saveBtnClickHandler=function(){(0,j.trackEvent)("ui","saveBtnClick",this.state.currentItem.id?"saved":"new"),this.saveItem()},t.prototype.pushBtnClickHandler=function(){this.pushItem()},t.prototype.editItemButtonHandler=function(){this.state.currentItem.id&&this.setState({isSnippetSettingsModalOpen:!0,snippetIframeUrl:"//app.maypower.services/page_section_edit.htm?id="+this.state.currentItem.id})},t.prototype.populateItemsInSavedPane=function(){this.setState({savedItems:l({},this.state.savedItems)}),this.toggleSavedItemsPane()},t.prototype.toggleSavedItemsPane=function(){this.setState({isSavedItemPaneOpen:!this.state.isSavedItemPaneOpen}),this.state.isSavedItemPaneOpen?window.searchInput.focus():window.searchInput.value="",document.body.classList[this.state.isSavedItemPaneOpen?"add":"remove"]("overlay-visible")},t.prototype.fetchItems=function(){var e=n(function*(e){var t=this,o=(0,E.deferred)();this.state.savedItems={};var s=[];return window.user?(s=yield x.itemService.getAllItems(),(0,M.log)("got items"),e&&s.forEach(function(e){t.state.savedItems[e.id]=e}),o.resolve(s),o.promise):(db.local.get("items",function(n){var a=Object.getOwnPropertyNames(n.items||{});a.length||o.resolve([]),(0,j.trackEvent)("fn","fetchItems",a.length);for(var r=function(n){db.local.get(a[n],function(i){e&&(t.state.savedItems[a[n]]=i[a[n]]),s.push(i[a[n]]),a.length===s.length&&o.resolve(s)})},l=0;l<a.length;l++)r(l)}),o.promise)});return function(){return e.apply(this,arguments)}}(),t.prototype.openSavedItemsPane=function(){var e=this;this.setState({isFetchingItems:!0}),this.fetchItems(!0).then(function(t){e.setState({isFetchingItems:!1}),e.populateItemsInSavedPane(t)})},t.prototype.openAddLibrary=function(){this.setState({isAddLibraryModalOpen:!0})},t.prototype.closeSavedItemsPane=function(){this.setState({isSavedItemPaneOpen:!1}),document.body.classList.remove("overlay-visible"),this.editorWithFocus&&this.editorWithFocus.focus()},t.prototype.componentDidMount=function(){var e=this;document.body.style.height=window.innerHeight+"px",window.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&83===t.keyCode&&(t.preventDefault(),e.saveItem(),(0,j.trackEvent)("ui","saveItemKeyboardShortcut")),(t.ctrlKey||t.metaKey)&&t.shiftKey&&53===t.keyCode?(t.preventDefault(),e.contentWrap.setPreviewContent(!0,!0),(0,j.trackEvent)("ui","previewKeyboardShortcut")):(t.ctrlKey||t.metaKey)&&79===t.keyCode?(t.preventDefault(),e.openSavedItemsPane(),(0,j.trackEvent)("ui","openCreationKeyboardShortcut")):(t.ctrlKey||t.metaKey)&&t.shiftKey&&191===t.keyCode?(t.preventDefault(),e.setState({isKeyboardShortcutsModalOpen:!e.state.isKeyboardShortcutsModalOpen}),(0,j.trackEvent)("ui","showKeyboardShortcutsShortcut")):27===t.keyCode&&e.closeSavedItemsPane()}),window.addEventListener("focusin",function(t){if(document.body.classList.contains("overlay-visible")){var e=$(".is-modal-visible");if(!e)return;e.contains(t.target)||(t.preventDefault(),e.querySelector(".js-modal__close-btn").focus())}})},t.prototype.closeAllOverlays=function(){this.state.isSavedItemPaneOpen&&this.closeSavedItemsPane(),this.setState(l({},this.modalDefaultStates))},t.prototype.onExternalLibChange=function(e){(0,M.log)("onExternalLibChange"),this.state.currentItem.externalLibs={js:e.js,css:e.css},this.updateExternalLibCount(),this.setState({currentItem:l({},this.state.currentItem)}),this.contentWrap.setPreviewContent(!0),B.alertsService.add("Libraries updated.")},t.prototype.updateExternalLibCount=function(){var e=0;this.state.currentItem.externalLibs&&(e+=this.state.currentItem.externalLibs.js.split("\n").filter(function(e){return!!e}).length,e+=this.state.currentItem.externalLibs.css.split("\n").filter(function(e){return!!e}).length,this.setState({externalLibCount:e}))},t.prototype.toggleLayout=function(e){var t=this;return e=600>window.innerWidth?2:e,this.state.currentLayoutMode===e?(this.contentWrap.resetSplitting(),void this.setState({currentLayoutMode:e})):void([1,2,3,4,5].forEach(function(e){window["layoutBtn"+e].classList.remove("selected"),document.body.classList.remove("layout-"+e)}),$("#layoutBtn"+e).classList.add("selected"),document.body.classList.add("layout-"+e),this.setState({currentLayoutMode:e},function(){t.contentWrap.resetSplitting(),t.contentWrap.setPreviewContent(!0)}))},t.prototype.layoutBtnClickHandler=function(e){this.saveSetting("layoutMode",e),(0,j.trackEvent)("ui","toggleLayoutClick",e),this.toggleLayout(e)},t.prototype.getCodePaneSizes=function(){var e,t=this.state.currentLayoutMode,o=2===t||5===t?"width":"height";try{e=[htmlCodeEl.style[o],cssCodeEl.style[o],jsCodeEl.style[o]]}catch(t){e=[33.33,33.33,33.33]}finally{return e}},t.prototype.getMainPaneSizes=function(){var e,t=this.state.currentLayoutMode,o=2===t?"height":"width";try{e=[+$("#js-code-side").style[o].match(/([\d.]+)%/)[1],+$("#js-demo-side").style[o].match(/([\d.]+)%/)[1]]}catch(t){e=[50,50]}finally{return e}},t.prototype.saveSetting=function(e,t){var o,s=(0,E.deferred)(),n=(o={},o[e]=t,o);return db.local.set(n,s.resolve),s.promise},t.prototype.saveCode=function(e){return this.state.currentItem.updatedOn=Date.now(),this.state.currentItem.layoutMode=this.state.currentLayoutMode,this.state.currentItem.sizes=this.getCodePaneSizes(),this.state.currentItem.mainSizes=this.getMainPaneSizes(),(0,M.log)("saving key",e||this.state.currentItem.id,this.state.currentItem),x.itemService.setItem(e||this.state.currentItem.id,this.state.currentItem).then(function(){window.user&&!navigator.onLine&&B.alertsService.add("Item saved locally. Will save to account when you are online."),this.setState({unsavedEditCount:0})}.bind(this))},t.prototype.pushItem=function(){return window.user?void(!this.state.currentItem.id&&alert("You must save first, before you can push to MWS."),this.setState({isPushing:!0,unsavedPushCount:0}),Q.push(this.state.currentItem.id)):void alert("You must be logged in, to be able to push to MWS.")},t.prototype.saveItem=function(){var e=this;if(!window.user&&!window.localStorage[X.LOGIN_AND_SAVE_MESSAGE_SEEN]){var t=confirm("Saving without signing in will save your work only on this machine and this browser. If you want it to be secure & available anywhere, please login in your account and then save.\n\nDo you still want to continue saving locally?");if(window.localStorage[X.LOGIN_AND_SAVE_MESSAGE_SEEN]=!0,!t)return(0,j.trackEvent)("ui",X.LOGIN_AND_SAVE_MESSAGE_SEEN,"login"),this.closeAllOverlays(),void this.setState({isLoginModalOpen:!0});(0,j.trackEvent)("ui",X.LOGIN_AND_SAVE_MESSAGE_SEEN,"local")}var o=!this.state.currentItem.id;this.state.currentItem.id=this.state.currentItem.id||"item-"+(0,M.generateRandomId)(),this.setState({isSaving:!0}),this.saveCode().then(function(){e.setState({isSaving:!1}),!e.isAutoSavingEnabled&&e.state.prefs.autoSave&&(e.isAutoSavingEnabled=!0,B.alertsService.add("Auto-save enabled."))}),o&&x.itemService.setItemForUser(this.state.currentItem.id)},t.prototype.onCodeModeChange=function(e,t){var o=l({},this.state.currentItem);o[e+"Mode"]=t,this.setState({currentItem:o})},t.prototype.onCodeChange=function(e,t,o){this.state.currentItem[e]=t,o&&(this.setState({unsavedEditCount:this.state.unsavedEditCount+1,unsavedPushCount:this.state.unsavedPushCount+1}),0==this.state.unsavedEditCount%ee&&this.state.unsavedEditCount>=ee&&(window.saveBtn.classList.add("animated"),window.saveBtn.classList.add("wobble"),window.saveBtn.addEventListener("animationend",function(){window.saveBtn.classList.remove("animated"),window.saveBtn.classList.remove("wobble")}))),this.state.prefs.isJs13kModeOn&&this.calculateCodeSize()},t.prototype.onCodeSettingsChange=function(e,t){this.state.currentItem[e+"Settings"]={acssConfig:t}},t.prototype.titleInputBlurHandler=function(t){this.state.currentItem.title=t.target.value,this.state.currentItem.id&&(this.saveItem(),(0,j.trackEvent)("ui","titleChanged"))},t.prototype.updateSetting=function(t){var e=this;if(t){var o=t.target.dataset.setting,s={},n=t.target;(0,M.log)(o,"checkbox"===n.type?n.checked:n.value);var a=l({},this.state.prefs);a[o]="checkbox"===n.type?n.checked:n.value,s[o]=a[o],this.setState({prefs:a}),db.sync.set(s,function(){B.alertsService.add("Setting saved")}),window.user&&window.db.getDb().then(function(t){var s;t.collection("users").doc(window.user.uid).update((s={},s["settings."+o]=e.state.prefs[o],s)).then(function(e){(0,M.log)("Setting \""+o+"\" for user",e)}).catch(function(e){return(0,M.log)(e)})}),(0,j.trackEvent)("ui","updatePref-"+o,a[o])}var i=this.state.prefs;runBtn.classList[i.autoPreview?"add":"remove"]("hide"),this.contentWrap.applyCodemirrorSettings(this.state.prefs),i.autoSave?!this.autoSaveInterval&&(this.autoSaveInterval=setInterval(function(){e.autoSaveLoop()},this.AUTO_SAVE_INTERVAL)):(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null),document.body.classList[i.lightVersion?"add":"remove"]("light-version")},t.prototype.autoSaveLoop=function(){this.isAutoSavingEnabled&&this.state.unsavedEditCount&&this.saveItem()},t.prototype.loginBtnClickHandler=function(){var e=("localhost"==window.location.hostname?"http://localhost/app":"https://app.maypower.services")+"/login",t=window.open(e,"_blank");t.focus()},t.prototype.profileBtnClickHandler=function(){var e=("localhost"==window.location.hostname?"http://localhost/app":"https://app.maypower.services")+"/profile",t=window.open(e,"_blank");t.focus()},t.prototype.updateUserBtnClickHandler=function(){this.setState({user:window.user});var e=l({},this.state.prefs);l(e,window.user.settings),this.setState({prefs:e}),this.updateProfileUi()},t.prototype.logout=function(){if(this.state.unsavedEditCount){var e=confirm("You have unsaved changes. Do you still want to logout?");if(!e)return}(0,j.trackEvent)("fn","loggedOut"),T.auth.logout(),this.setState({isProfileModalOpen:!1}),B.alertsService.add("Log out successfull")},t.prototype.itemClickHandler=function(e){var t=this;setTimeout(function(){t.openItem(e)},350),this.toggleSavedItemsPane()},t.prototype.itemRemoveBtnClickHandler=function(e){this.removeItem(e)},t.prototype.itemForkBtnClickHandler=function(e){var t=this;this.toggleSavedItemsPane(),setTimeout(function(){t.forkItem(e)},350)},t.prototype.newBtnClickHandler=function(){if((0,j.trackEvent)("ui","newBtnClick"),this.state.unsavedEditCount){var e=confirm("You have unsaved changes. Do you still want to create something new?");e&&this.setState({isCreateNewModalOpen:!0})}else this.setState({isCreateNewModalOpen:!0})},t.prototype.openBtnClickHandler=function(){(0,j.trackEvent)("ui","openBtnClick"),this.openSavedItemsPane()},t.prototype.detachedPreviewBtnHandler=function(){(0,j.trackEvent)("ui","detachPreviewBtnClick"),this.contentWrap.detachPreview()},t.prototype.notificationsBtnClickHandler=function(){return this.setState({isNotificationsModalOpen:!0}),this.state.isNotificationsModalOpen&&!this.hasSeenNotifications&&(this.hasSeenNotifications=!0,this.setState({hasUnseenChangelog:!1}),window.db.setUserLastSeenVersion(te)),(0,j.trackEvent)("ui","notificationButtonClick",te),!1},t.prototype.codepenBtnClickHandler=function(t){if(this.state.currentItem.cssMode===L.CssModes.ACSS)return alert("Oops! CodePen doesn't supports Atomic CSS currently. \nHere is something you can still do -> https://medium.com/web-maker/sharing-your-atomic-css-work-on-codepen-a402001b26ab"),void t.preventDefault();var e={title:"A Tron experiment",html:this.state.currentItem.html,css:this.state.currentItem.css,js:this.state.currentItem.js,html_pre_processor:L.modes[this.state.currentItem.htmlMode].codepenVal,css_pre_processor:L.modes[this.state.currentItem.cssMode].codepenVal,js_pre_processor:L.modes[this.state.currentItem.jsMode].codepenVal,css_external:this.state.currentItem.externalLibs.css.split("\n").join(";"),js_external:this.state.currentItem.externalLibs.js.split("\n").join(";")};this.state.currentItem.title.match(/Untitled\s\d\d*-\d/)||(e.title=this.state.currentItem.title),e=JSON.stringify(e),window.codepenForm.querySelector("input").value=e,window.codepenForm.submit(),(0,j.trackEvent)("ui","openInCodepen"),t.preventDefault()},t.prototype.saveHtmlBtnClickHandler=function(t){(0,M.saveAsHtml)(this.state.currentItem),(0,j.trackEvent)("ui","saveHtmlClick"),t.preventDefault()},t.prototype.runBtnClickHandler=function(){this.contentWrap.setPreviewContent(!0,!0),(0,j.trackEvent)("ui","runBtnClick")},t.prototype.exportItems=function(){var e=this;(0,M.handleDownloadsPermission)().then(function(){e.fetchItems().then(function(e){var t=new Date,o=["web-maker-export",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].join("-");o+=".json";var s=new Blob([JSON.stringify(e,!1,2)],{type:"application/json;charset=UTF-8"});(0,M.downloadFile)(o,s),(0,j.trackEvent)("fn","exportItems")})})},t.prototype.exportBtnClickHandler=function(t){this.exportItems(),t.preventDefault(),(0,j.trackEvent)("ui","exportBtnClicked")},t.prototype.screenshotBtnClickHandler=function(t){this.contentWrap.getDemoFrame(function(e){(0,D.takeScreenshot)(e.getBoundingClientRect())}),t.preventDefault()},t.prototype.openSupportDeveloperModal=function(){this.closeAllOverlays(),this.setState({isSupportDeveloperModalOpen:!0})},t.prototype.supportDeveloperBtnClickHandler=function(t){this.openSupportDeveloperModal(t)},t.prototype.dontAskToImportAnymore=function(t){this.setState({isAskToImportModalOpen:!1}),window.localStorage[X.ASKED_TO_IMPORT_CREATIONS]=!0,t&&(0,j.trackEvent)("ui","dontAskToImportBtnClick")},t.prototype.importCreationsAndSettingsIntoApp=function(){var e=this;this.mergeImportedItems(this.oldSavedItems).then(function(){(0,j.trackEvent)("fn","oldItemsImported"),e.dontAskToImportAnymore()})},t.prototype.mergeImportedItems=function(e){var t=[],o={},s=(0,E.deferred)(),n={};e.forEach(function(e){n[e.id]?t.push(e.id):((0,M.log)("merging",e.id),o[e.id]=e)});var a=e.length-t.length;if(t.length){var i=confirm(t.length+" creations already exist. Do you want to replace them?");i&&((0,M.log)("shouldreplace",i),e.forEach(function(e){o[e.id]=e}),a=e.length)}return a?x.itemService.saveItems(o).then(function(){s.resolve(),B.alertsService.add(a+" creations imported successfully."),(0,j.trackEvent)("fn","itemsImported",a)}):s.resolve(),this.setState({isAskToImportModalOpen:!1}),s.promise},t.prototype.editorFocusHandler=function(e){this.editorWithFocus=e},t.prototype.modalOverlayClickHandler=function(){this.closeAllOverlays()},t.prototype.splitUpdateHandler=function(){this.state.currentItem.sizes=this.getCodePaneSizes(),this.state.currentItem.mainSizes=this.getMainPaneSizes()},t.prototype.calculateTextSize=function(e){if(!e)return 0;var t=/(\r?\n|\r)/g,o=/(\r?\n|\r|\s+)/g;return{count:function(e,s){s=s||{},s.lineBreaks=s.lineBreaks||1,s.ignoreWhitespace=s.ignoreWhitespace||!1;var n=e.length,a=n-e.replace(/[\u0100-\uFFFF]/g,"").length,i=n-e.replace(t,"").length;return s.ignoreWhitespace?(e=e.replace(o,""),e.length+a):n+a+Math.max(0,s.lineBreaks*(i-1))},format:function(e,t){for(var o=0;1024<e;)e/=1024,o++;return e=Math.round(100*e)/100,o=["","K","M","G","T"][o],(t?e:"<strong>"+e+"</strong>")+" "+o+"B"}}.count(e)},t.prototype.getExternalLibCode=function(){var e=this.state.currentItem,t=e.externalLibs&&e.externalLibs.js||"";return t+="\n"+e.externalLibs&&e.externalLibs.css||"",t=t.split("\n").filter(function(e){return e}),t.map(function(e){return fetch(e).then(function(e){return e.text()}).then(function(t){return{code:t,fileName:(0,M.getFilenameFromUrl)(e)}})})},t.prototype.calculateCodeSize=function(){var e=this,t=this.state.currentItem,o=(0,w.computeHtml)(t.html,t.htmlMode),s=(0,w.computeCss)(t.css,t.cssMode),n=(0,w.computeJs)(t.js,t.jsMode,!1);Promise.all([o,s,n].concat(this.getExternalLibCode())).then(function(o){var s=o[0].code||"",n=o[1].code||"",a=o[2].code||"",r=(0,M.getCompleteHtml)(s,n,a,t,!0),l=new Z.default;l.file("index.html",r);for(var d,c=3;c<o.length;c++)d=o[c],l.file(d.fileName,d.code);var i=null;i=l.generateAsync({type:"base64",compression:"DEFLATE",compressionOptions:{level:9}}),i.then(function(t){var o=e.calculateTextSize(atob(t));e.setState({codeSize:o}),e.currentItemZipBase64Data=t})})},t.prototype.js13KHelpBtnClickHandler=function(){this.setState({isJs13KModalOpen:!0})},t.prototype.js13KDownloadBtnClickHandler=function(){var e=document.createElement("a");e.setAttribute("download",this.state.currentItem.title),e.href="data:application/zip;base64,"+this.currentItemZipBase64Data,document.body.appendChild(e),e.click(),e.remove()},t.prototype.blankTemplateSelectHandler=function(){this.createNewItem(),this.setState({isCreateNewModalOpen:!1})},t.prototype.templateSelectHandler=function(e){var t=this;fetch("templates/template-"+e.id+".json").then(function(e){return e.json()}).then(function(e){t.forkItem(e)}),this.setState({isCreateNewModalOpen:!1})},t.prototype.render=function(){var e=this;return(0,d.h)("div",null,(0,d.h)("div",{class:"main-container"},(0,d.h)(c.MainHeader,{externalLibCount:this.state.externalLibCount,openBtnHandler:this.openBtnClickHandler.bind(this),newBtnHandler:this.newBtnClickHandler.bind(this),saveBtnHandler:this.saveBtnClickHandler.bind(this),pushBtnHandler:this.pushBtnClickHandler.bind(this),loginBtnHandler:this.loginBtnClickHandler.bind(this),profileBtnHandler:this.profileBtnClickHandler.bind(this),updateUserBtnHandler:this.updateUserBtnClickHandler.bind(this),addLibraryBtnHandler:this.openAddLibrary.bind(this),runBtnClickHandler:this.runBtnClickHandler.bind(this),isFetchingItems:this.state.isFetchingItems,isSaving:this.state.isSaving,title:this.state.currentItem.title,titleInputBlurHandler:this.titleInputBlurHandler.bind(this),editItemButtonHandler:this.editItemButtonHandler.bind(this),user:this.state.user,unsavedEditCount:this.state.unsavedEditCount}),(0,d.h)(u.default,{currentLayoutMode:this.state.currentLayoutMode,currentItem:this.state.currentItem,onCodeChange:this.onCodeChange.bind(this),onCodeSettingsChange:this.onCodeSettingsChange.bind(this),onCodeModeChange:this.onCodeModeChange.bind(this),onRef:function(t){return e.contentWrap=t},prefs:this.state.prefs,onEditorFocus:this.editorFocusHandler.bind(this),onSplitUpdate:this.splitUpdateHandler.bind(this)}),oe,(0,d.h)(m.default,{prefs:this.state.prefs,layoutBtnClickHandler:this.layoutBtnClickHandler.bind(this),helpBtnClickHandler:function(){return e.setState({isHelpModalOpen:!0})},settingsBtnClickHandler:function(){return e.setState({isSettingsModalOpen:!0})},notificationsBtnClickHandler:this.notificationsBtnClickHandler.bind(this),supportDeveloperBtnClickHandler:this.supportDeveloperBtnClickHandler.bind(this),detachedPreviewBtnHandler:this.detachedPreviewBtnHandler.bind(this),codepenBtnClickHandler:this.codepenBtnClickHandler.bind(this),saveHtmlBtnClickHandler:this.saveHtmlBtnClickHandler.bind(this),keyboardShortcutsBtnClickHandler:function(){return e.setState({isKeyboardShortcutsModalOpen:!0})},screenshotBtnClickHandler:this.screenshotBtnClickHandler.bind(this),onJs13KHelpBtnClick:this.js13KHelpBtnClickHandler.bind(this),onJs13KDownloadBtnClick:this.js13KDownloadBtnClickHandler.bind(this),hasUnseenChangelog:this.state.hasUnseenChangelog,codeSize:this.state.codeSize})),(0,d.h)(f.default,{items:this.state.savedItems,isOpen:this.state.isSavedItemPaneOpen,closeHandler:this.closeSavedItemsPane.bind(this),itemClickHandler:this.itemClickHandler.bind(this),itemRemoveBtnClickHandler:this.itemRemoveBtnClickHandler.bind(this),itemForkBtnClickHandler:this.itemForkBtnClickHandler.bind(this),exportBtnClickHandler:this.exportBtnClickHandler.bind(this)}),se,ne,(0,d.h)(C.default,{show:this.state.isAddLibraryModalOpen,closeHandler:function(){return e.setState({isAddLibraryModalOpen:!1})}},(0,d.h)(y.default,{js:this.state.currentItem.externalLibs?this.state.currentItem.externalLibs.js:"",css:this.state.currentItem.externalLibs?this.state.currentItem.externalLibs.css:"",onChange:this.onExternalLibChange.bind(this)})),(0,d.h)(C.default,{show:this.state.isNotificationsModalOpen,closeHandler:function(){return e.setState({isNotificationsModalOpen:!1})}},(0,d.h)(_.Notifications,{onSupportBtnClick:this.openSupportDeveloperModal.bind(this)})),(0,d.h)(C.default,{extraClasses:"modal--settings",show:this.state.isSettingsModalOpen,closeHandler:function(){return e.setState({isSettingsModalOpen:!1})}},(0,d.h)(I.default,{prefs:this.state.prefs,onChange:this.updateSetting.bind(this)})),(0,d.h)(C.default,{extraClasses:"login-modal",show:this.state.isLoginModalOpen,closeHandler:function(){return e.setState({isLoginModalOpen:!1})}},ae),(0,d.h)(C.default,{show:this.state.isProfileModalOpen,closeHandler:function(){return e.setState({isProfileModalOpen:!1})}},(0,d.h)(P.Profile,{user:this.state.user,logoutBtnHandler:this.logout.bind(this)})),(0,d.h)(K.HelpModal,{show:this.state.isHelpModalOpen,closeHandler:function(){return e.setState({isHelpModalOpen:!1})},onSupportBtnClick:this.openSupportDeveloperModal.bind(this),version:"3.3.1"}),(0,d.h)(R.SnippetSettingsModal,{show:this.state.isSnippetSettingsModalOpen,snippetIframeUrl:this.state.snippetIframeUrl,closeHandler:function(){return e.setState({isSnippetSettingsModalOpen:!1})}}),(0,d.h)(V.KeyboardShortcutsModal,{show:this.state.isKeyboardShortcutsModalOpen,closeHandler:function(){return e.setState({isKeyboardShortcutsModalOpen:!1})}}),(0,d.h)(F.AskToImportModal,{show:this.state.isAskToImportModalOpen,closeHandler:function(){return e.setState({isAskToImportModalOpen:!1})},oldSavedCreationsCount:this.oldSavedCreationsCount,importBtnClickHandler:this.importCreationsAndSettingsIntoApp.bind(this),dontAskBtnClickHandler:this.dontAskToImportAnymore.bind(this)}),(0,d.h)(W.Js13KModal,{show:this.state.isJs13KModalOpen,closeHandler:function(){return e.setState({isJs13KModalOpen:!1})}}),(0,d.h)(J.CreateNewModal,{show:this.state.isCreateNewModalOpen,closeHandler:function(){return e.setState({isCreateNewModalOpen:!1})},onBlankTemplateSelect:this.blankTemplateSelectHandler.bind(this),onTemplateSelect:this.templateSelectHandler.bind(this)}),(0,d.h)(U.default,{into:"body"},(0,d.h)("div",{class:"modal-overlay",onClick:this.modalOverlayClickHandler.bind(this)})),ie,re)},t}(d.Component);t.default=le},y5h4:function(e,t){"use strict";t.__esModule=!0;var o=t.HtmlModes={HTML:"html",MARKDOWN:"markdown",JADE:"jade"},s=t.CssModes={CSS:"css",SCSS:"scss",SASS:"sass",LESS:"less",STYLUS:"stylus",ACSS:"acss"},n=t.JsModes={JS:"js",ES6:"es6",COFFEESCRIPT:"coffee",TS:"typescript"},a=t.modes={};a[o.HTML]={label:"HTML",cmMode:"htmlmixed",codepenVal:"none"},a[o.MARKDOWN]={label:"Markdown",cmMode:"markdown",codepenVal:"markdown"},a[o.JADE]={label:"Pug",cmMode:"pug",codepenVal:"pug"},a[n.JS]={label:"JS",cmMode:"javascript",codepenVal:"none"},a[n.COFFEESCRIPT]={label:"CoffeeScript",cmMode:"coffeescript",codepenVal:"coffeescript"},a[n.ES6]={label:"ES6 (Babel)",cmMode:"jsx",codepenVal:"babel"},a[n.TS]={label:"TypeScript",cmPath:"jsx",cmMode:"text/typescript-jsx",codepenVal:"typescript"},a[s.CSS]={label:"CSS",cmPath:"css",cmMode:"css",codepenVal:"none"},a[s.SCSS]={label:"SCSS",cmPath:"css",cmMode:"text/x-scss",codepenVal:"scss"},a[s.SASS]={label:"SASS",cmMode:"sass",codepenVal:"sass"},a[s.LESS]={label:"LESS",cmPath:"css",cmMode:"text/x-less",codepenVal:"less"},a[s.STYLUS]={label:"Stylus",cmMode:"stylus",codepenVal:"stylus"},a[s.ACSS]={label:"Atomic CSS",cmPath:"css",cmMode:"css",codepenVal:"notsupported",cmDisable:!0,hasSettings:!0}},zclz:function(e,t,o){"use strict";function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function s(n,a){try{var i=t[n](a),r=i.value}catch(e){return void o(e)}return i.done?void e(r):Promise.resolve(r).then(function(e){s("next",e)},function(e){s("throw",e)})}return s("next")})}}t.__esModule=!0,t.removeItem=t.getItems=t.getItem=t.setItem=t.push=t.getUser=void 0;var n=t.getUser=function(){var e=s(function*(){try{ws.send(enc(tuple(atom("client"),atom("init"))))}catch(e){window.user||setTimeout(n,1e3)}});return function(){return e.apply(this,arguments)}}(),a=t.push=function(){var e=s(function*(e){try{return ws.send(enc(tuple(atom("client"),tuple(atom("push"),bin(e))))),!0}catch(e){alert(e)}});return function(){return e.apply(this,arguments)}}(),i=t.setItem=function(){var e=s(function*(e,t,o){try{var s=(0,c.computeHtml)(t.html,t.htmlMode),n=(0,c.computeCss)(t.css,t.cssMode),a=(0,c.computeJs)(t.js,t.jsMode,!1);Promise.all([s,n,a]).then(function(o){var s="[section="+e+"] {"+o[1].code+"}",n=(0,c.computeCss)(s,"less").then(function(s){var n=o[0].code,a=o[2].code;window.user.items[e]=!0;var i=JSON.stringify({item:t,owner:window.user.uid,html:t.html,css:t.css,js:t.js,external_libs:t.externalLibs,compiled_html:n,compiled_css:s,compiled_js:a});ws.send(enc(tuple(atom("client"),tuple(atom("save"),bin(i)))))})}),o.resolve()}catch(e){console.log(e),o.reject()}});return function(){return e.apply(this,arguments)}}(),r=t.getItem=function(){var e=s(function*(e){try{var t=yield p({url:u+"/rest_page_section?id="+e.id,method:"get"});return t.data}catch(e){console.error(e)}});return function(){return e.apply(this,arguments)}}(),l=t.getItems=function(){var e=s(function*(e){try{var t=yield p({url:u+"/rest_page_section?id=multiple,"+e.join(","),method:"get"});return t.data}catch(e){console.error(e)}});return function(){return e.apply(this,arguments)}}(),d=t.removeItem=function(){var e=s(function*(e){try{return null!=e.id&&(e=e.id),ws.send(enc(tuple(atom("client"),tuple(atom("delete"),bin(e))))),"ok"}catch(e){console.error(e)}});return function(){return e.apply(this,arguments)}}();t.saveItems=function(){},t.setItemForUser=function(){},t.unsetItemForUser=function(){},t.getUserItemIds=function(){alert(28)};var c=o("E5zE"),p=o("dZBD"),u=("localhost"==window.location.hostname?"http://localhost:8001":"https://ws.maypower.services:8001")+"/direct"}},["pwNi"]);